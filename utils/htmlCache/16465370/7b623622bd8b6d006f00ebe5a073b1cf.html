<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">
<link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C">
<link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">


        <script nonce="923001970" type="text/javascript">
            window.logs = {
                pagetime: {}
            };
            window.logs.pagetime['html_begin'] = (+new Date());
        </script>
        <title>
 Swift 5 终于来了，快来看看有什么更新！！
</title>
        
<style>.radius_avatar{display:inline-block;background-color:#fff;padding:3px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;overflow:hidden;vertical-align:middle}.radius_avatar img{display:block;width:100%;height:100%;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;background-color:#eee}.rich_media_inner{word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}.rich_media_area_primary.voice{padding-top:66px}.rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{color:rgba(0,0,0,0.3);background-color:#fafafa}.rich_media_area_extra{padding:0 16px 24px}.rich_media_extra{padding-top:30px}.mpda_bottom_container .rich_media_extra{padding-top:24px}.mpda_bottom_container .rich_media_extra .mpad_more_list{right:-10px}.code-snippet{margin:10px 0;display:block;overflow-x:auto;font-size:14px;padding:1em 1em 1em 3em;color:#333;position:relative;background-color:#fafafa;border:1px solid #f0f0f0;border-radius:2px;counter-reset:line;white-space:normal;-webkit-overflow-scrolling:touch}.code-snippet code{text-align:left;font-size:14px;display:block;white-space:pre-wrap;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet code::before{position:absolute;min-width:1.5em;text-align:right;left:-2.5em;counter-increment:line;content:counter(line);display:inline;margin-right:12px;color:rgba(0,0,0,0.15)}.code-snippet_nowrap code{white-space:pre;display:flex}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px}.code-snippet__fix pre{overflow-x:auto;padding:1em;padding-left:0;white-space:normal;flex:1;-webkit-overflow-scrolling:touch}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:flex;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__fix .code-snippet__line-index{counter-reset:line;flex-shrink:0;height:100%;padding:1em;list-style-type:none}.code-snippet__fix .code-snippet__line-index li{list-style-type:none;text-align:right}.code-snippet__fix .code-snippet__line-index li::before{min-width:1.5em;text-align:right;left:-2.5em;counter-increment:line;content:counter(line);display:inline;color:rgba(0,0,0,0.15)}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}body{-webkit-touch-callout:none;font-family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;background-color:#f2f2f2;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}*{margin:0;padding:0}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:14px}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta_list{margin-bottom:22px;line-height:20px;font-size:0;word-wrap:break-word;word-break:break-all}.rich_media_meta_list em{font-style:normal}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_primary{display:block;margin-bottom:10px;font-size:15px}.meta_original_tag{padding:0 .5em;font-size:12px;line-height:1.4;background-color:#f2f2f2;color:#888}.meta_enterprise_tag img{width:30px;height:30px!important;display:block;position:relative;margin-top:-3px;border:0}.rich_media_meta_link{color:#576b95}.rich_media_meta_text{color:rgba(0,0,0,0.3)}.rich_media_meta_text.rich_media_meta_split{padding-left:10px}.rich_media_meta_text.rich_media_meta_split:before{position:absolute;top:50%;left:0;margin-top:-6px;content:' ';display:block;border-left:1px solid #888;width:200%;height:130%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-transform:scale(0.5);transform:scale(0.5);-webkit-transform-origin:0 0;transform-origin:0 0}.rich_media_meta_text.article_modify_tag{position:relative}.rich_media_meta_nickname{position:relative}.rich_media_thumb_wrp{margin-bottom:6px}.rich_media_thumb_wrp .original_img_wrp{display:block}.rich_media_thumb{display:block;width:100%}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}img{height:auto!important}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait){.rich_media_area_extra{padding-bottom:34px}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}blockquote{padding-left:10px;border-left:3px solid #dbdbdb;color:rgba(0,0,0,0.5);font-size:15px;padding-top:4px;margin:1em 0}.blockquote_info{color:rgba(0,0,0,0.3);margin-top:1.1764705882352942em;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.blockquote_article{display:block}.appmsg_share_notice{font-size:16px;color:#888;position:relative;padding:1.25em 0;margin-bottom:1.75em}.appmsg_share_notice:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #dfdfdf;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.appmsg_share_notice:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dfdfdf;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.appmsg_share_notice_hd{font-weight:700;padding-bottom:.2em}.cell{padding:.8em 0;display:block;position:relative}.cell_hd,.cell_bd,.cell_ft{display:table-cell;vertical-align:middle;word-wrap:break-word;word-break:break-all;white-space:nowrap}.cell_primary{width:2000px;white-space:normal}.flex_cell{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flex_cell_primary{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;box-flex:1;flex:1}.original_tool_area{display:block;padding:.75em 1em 0;-webkit-tap-highlight-color:rgba(0,0,0,0);color:#333;border:1px solid #eaeaea;margin:20px 0}.original_tool_area .tips_global{position:relative;padding-bottom:.5em;font-size:15px}.original_tool_area .tips_global:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dbdbdb;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:27px;height:27px;padding:0;margin-right:.5em}.original_tool_area .radius_avatar img{height:100%!important}.original_tool_area .flex_cell_bd{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.original_tool_area .flex_cell_ft{font-size:14px;color:#888;padding-left:1em;white-space:nowrap}.original_tool_area .icon_access:after{content:" ";display:inline-block;height:8px;width:8px;border-width:1px 1px 0 0;border-color:#cbcad0;border-style:solid;transform:matrix(0.71,0.71,-0.71,0.71,0,0);-ms-transform:matrix(0.71,0.71,-0.71,0.71,0,0);-webkit-transform:matrix(0.71,0.71,-0.71,0.71,0,0);position:relative;top:-2px;top:-1px}.rich_media_global_msg{position:fixed;top:0;left:0;right:0;padding:.85em 35px .85em 15px;z-index:2;background-color:#c6e0f8;color:#888;font-size:12px}.rich_media_global_msg .icon_closed{position:absolute;right:15px;top:50%;margin-top:-5px;line-height:300px;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent url(//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/icon_appmsg_msg_closed_sprite.2x42f400.png) no-repeat 0 0;width:11px;height:11px;vertical-align:middle;display:inline-block;-webkit-background-size:100% auto;background-size:100% auto}.rich_media_global_msg .icon_closed:active{background-position:0 -17px}.rich_media_global_msg.voice{color:#1aad19;background-color:#e8f6e8;padding-left:43.3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rich_media_global_msg.voice .ic_voice{position:absolute;top:50%;margin-top:-10px;left:15px;display:inline-block;width:13.3px;height:18.3px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA3CAYAAAB+fggjAAAAAXNSR0IArs4c6QAACb9JREFUaAW9WX9wVMUd3917d5cf/Agp1OTuQgIlQqUoI1JI1Noojg2I+VU7hVrtDDpadRypgzKjU52x09KOdsS20ypSO/WPWttcAqhTOlSoU4FIoRUn0wEZIMndBUkwGEhyv97bfvaS97L77t3lHYUuc+z3935397vf/e4LJZfQnuPPsW0d25ZQzr9mELKSUnIVzHxB/Dh+lBOKf4OEk0FOyQAl/CyltIt5tL29d/V2FzIkLUQ4FA7dwon+KCF0Fee8rBBdS5aSs/D+PUrYbyKtkb9b9BzAlA7CERrqDN1DOH8C8HU57FwSGat6kBGypbcluhMwFj+75XWwemf1vHQqtZ0T3pCtelkp73uJ79s9bT39dqs5HQyFK79jcPIKFErtSgLHjPvQHQB0EFt2hDE2QHU6RMvpkODrw3o50Uk5p3w2N/SlUKhHTNZjskHBz2pi6ylbH22J/k3mOToYCAceIYT/AgYVPhxJQTkMQ792Ez/yQCY8d0fgRl0nj8J2G5z1mvSJ3qCMrYOTb5l0xQFBDIUDjxmcbzUFJnu621/kf/DUmlM9k7RLh4LtwRChxquck0bFCqWjxENuijXF/iXoioNVnZU36wZ5D7PTTCWsWhyp4uFYa+x1k3Y5ezj6oNgtdTVpL0Lo+mhr9BwO0Xib+/bcWYZB35Sdg/sXsOSNV8o5MXK0LfoKYXQDxpJOMZ8L1g8E33JQT6aeQRoJCOJEMxjxfCvSEtlnEq5Uj5h7Ayv2I8U+5w9du/va0oyD896ZV004RQKebIzQ53EQ/jJJubJQhUa2YBXPmqNgy8vPjZ67N+NgMh6/HwSfyURgniwqLvmJif8/+sNrY6O4XV5WxjKMuvHDQOl9uCksHmX0xydWn0hYBJfAgncXzBhNjjZSnX8Fq3ENdmWWUMUhS2Ebv5HrtjDNg/+B5IY4wos0cVukUskqUwj9xfKS2W9GSEwi5QdxFS5BMn54dGzkHkhOy0x18j9COY1O5VxmhGJylIxMjgUTC7WUkfrqJAkQpfuP3nFUElO4WUgwHHza0HU1wG1SGOi0jeSI+kf92hgZlXg0yajBV0gUwri4vqZud/O7PbhxkGiNvM5NWHKV3NN8LGQbuVdDsYIVzOzHOI+ygzYhR/RAxwdbELcPZDEp+Q+2YQcS2L+Zwc4gdSUQS7Oz5BwIKUqWyq5ApEdDsVmhBKaHnHDQVUg1uwKLkkm+USEScsbjId/ra+7fbaMThMHVdpoTjuyxXloqcUg+Eqe4WBb26/5hGXeCkynyfdA9Fo/SQeZlN/StjUQtmgQUFxVnKhyJlAUGOgP13OC3ygxGWZhhSYtkYqIicUHGnWCUluoFz8mzkRzOCf14Wfyikx2ThvQ0B6XZdvhi1QaoAfZHmiMf40xMJmih4BvxWQnbNCD3i/cunoYab4FMQwr5o4zb4Uh9ZMxOM3Fsf91YfPQfOAeLTJrouYc8K3rEII0ikBcKRLTEhUQNuo8E7NSGh4dnyDOFzIioOpxkZdqyXYGSAV2rMYjhIUamkL2ZcANvG+MWWS4DU/parDm2R8AiBj/Bz3IQe14DPKeDRho1hNyonFplhgp/mmaNhpH6s0VVToNFxR7TPcVFJVZdgMG4cNBq0LvRQhyA2vLaMyDrFouTL169KzBlGkEofdnScQYMXBI/raiuXC1fs4wz2iXLI+U0y7gd3tewL41IVhLvmM6X2eWycM7nZ9EEAXWgWDWPpjWg7tx8+IbD4llhNTadTn8XcWgVBphprbhbLQkngJK/ymTdoE/IuDPME5jYSYx1HLn3EH6/B77Rq/m+FG2L3d7X1Pe+kx5kCBJp4G0clDWmAJTD0db+NhO398GO4G3cMDJBbPIY9bShfgyb+OXqMwGPV9rrskFsc6t4fck0GRZPQ5GnZBpO4x/wvrAmKfP+FzjjYF9zn5i58s0ET8MX8hnGc+BxOGnFi8innBg7UUBsFaV6Pt1CeBMrKD73qG8CbPnKUHvg/lzG+tr6DlGWufJkEWQp/tjgyMBJPF+fWrhj4XSZeSlwJgaFIhyioY7gHvS3moYyK6TRO6JN0b0mzd6HOgIbEBK/gp7fzsOBGMLUX2Z+bWvvnb1T3sd2fYFbDgoET8/56UTqKEBrizDIeY1463tae1BGObeq9qrlBtXb4aRcmVvCmOjneFq+UFZW9lJ3Q3fee9lSmgAUBwUNd+N9CPjfTfDHO0pO+z1FK081nfpUoUuIuKPPD322Gav5OMjWBCURRBGN4GH0QCGvxSwHhcFguPLnGEip97AKXd5y39dPN5yOy4PaYXGrjKToRsTMIzg4M+38cZz+LNYWe8qZp1Izh0QlEVLfctMmzNb6gCP4GGxFcij5W7usHT++NjaI4uHpadr0KkbpZvAH7DKw9iRi98lsejbFcQWF2LJ/LvOe6Yl14m5eLavhU8gqkQdlWj5YnOSL+sXNWNFNmKT1NQsLkGAez3zcIHmfj44rKAYUd2Jxcek6HCP1cHD+Ig5DzonZnT3WdOyCWFGukRUIwkGTL069kdYz319MmlOf00EhjKpiWKPku7IiDF9X3RHMecvIsjIsPqdh1ewO3SXLOMF5HRQKvS39h5GNOmVlnZP1Mu4W9pZ5/4TDZh0ybHkt3iKOqcm0OaWDQpB52DZTQfQo+Vtl3C08kQGO2OStYtlGz6CuHJxZO3MPYnHYMsDJVSKpW3ghAOXKsxaPoup86q4c7F7cncSyHZANGen0Shl3C+PSPy/L4qmZ97525aAwiMLgQ8Uwp8tl3C2MASff00KJMRW3GXLtIFbwY1kXp/kaGXcL42AoDqHit6p5JxuuHfQwj1IvIhFO9QhyGk/QpskM/C3Gyo0y3YRdOzgnNOcTHJS0qYgVrBIfLE28gF75ToN3bySfrmsHM68tTo7JxuKJ+PUyPhWcqbQ5XarI+TRlZxQeENcOjitS5dMc5/oqu8F8+ODI4FrEoPVpBTfL8akK2YIc9DCiFAkoyTbUdNSU5XPK5Im/MQPeZOKZnpNdCu6AFOTgrJLZO2FDrogrUjyxPbQ/VOxgWyG9Fn71h6hoJkMC8exlvl8qQg6I66rE1A22Vz6PEuwZExe92CrQtmmU72U+fzQ9K/15XV1dsuudrhlc50t0XX8Izq1TdAh5I9rWf69Mc4ILdlCU9kNDn32ICvZS0wySAY2W+shSUdw6OSXTCtpioSgePZrPeydWTUncstF8MPRw1dFvunFO2CnYQaGEk3cSn8iWYyVeBGoImqtG6RHxQsQfEJVskE+34C22GxOfb8fiY40owtaAJ0qnciTxcvSlE7VfBPX3IQ8lb/U2R3dgBRGu7tt/AYJkZEGv/oaXAAAAAElFTkSuQmCC) no-repeat center;background-size:contain}.rich_media_global_msg.voice .icon_more{position:absolute;right:15px;top:50%;margin-top:-6.5px;width:8px;height:13px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAYAAADeB1slAAAAAXNSR0IArs4c6QAAA49JREFUSA2tVk1IVFEUPveOmhQk1ibfvLFZSJtACqJIIpCIoB+imcFV2Z9ZUVnRomgRGFn2i6mFf5XVotCZMYmgIMhlq6BFENFiwjfPAosgFzXOvNu5o3fmeue98Y16F3PP+c453/fu/xCQmvZSWwwJaC0G6P8WND9IoTmbVFRycpqAdgBWkwRo94V960RsPn1aoPpN9RI6CR0WsDWcjAErtUiqTR/S18+HnNcSTv5zYrwDSatVMgLkH6aciwfj79WYW5+OT4xfsyPnBIgvwt872qBW45ZQzaMlJXCfMPJbDQgfRUoIhduVUW2TwArpaWyX+bnYU9JAAH44FaJIccqCW76Ib7NTjhOOvFPN/8q/IvE3cR+npFJgao9rkiSUXjD2GCNqzMnPbNPYjth3mqINlJAvTsk4kiJmWa3eQe8WpxwVzwjwgFFn/CorL29EkY9qovC5CFDrKq7JVoHl6zNTJCf53/lLk78SN/FcbJRx2cZCixC4ZATGXsu4as8YgQjGamN/q5atOotn4K3A1J4BUMbgsh7Wt6sx2bcV4AkjtSPJxkDjRQL0hVwg21zEglSzN+rdKeOybTtFcgK39ajWZDFWr+IZHxfGQ8mV0YA5nMGmDVcCPNcb8R5gYJ1UCWQfp6PFCI4NyZhrAV6EIiHGrPOAB0ImkW2c0la8u8ICc0wUCWrvC1dsw+3TnN6uanDaJ4zeiIfiA9wtWIAX8XspxeA6iuBlaN88hNzCNXk+JwFOuXJYW5tMQmc+EcqgzXGb2n9XFk1NstX5yKczl89JAF+6vRaBM1m5XAu//qkRGrtb8BThTtqH2/V0LmUWwbvsiREw8X0vcJHxxNbjNm3KUuVaMjmPFuWm2CPesHc/kp+yj06hFMhj/PIOOcfVFLk6xZT0G3vMTpmc27MusityZk/OBfKOwA05MPLIDJn3OJldcxTQotpBYOyEXVEWIw/NoInvuHOznSJfVDs0GzneNw9mI+eyOSPQI9phfCqPO38TFhHaFw/Eu/LliNiMESB5w6zkzD05F8mMYJr8mFC263Fa+vAadvXloj4toEcrjlgMjgrQrseHpBcfkm67WD6M6MN6lTWZeoZjyYxGLcB57MGnsEfF3fjU2G189QBpcUqmBLrnSs4504s8GjLxrwm5qYrg3dKFf6x6VbwQ3yOS/wz8+bS0ruwfELaBY2nyoNkn4gvW65GKRn4WForwP+dONHDaOHeZAAAAAElFTkSuQmCC) no-repeat center;background-size:contain}.preview_appmsg .rich_media_title{margin-top:2.3em}@media screen and (min-width:1024px){.rich_media_global_msg{position:relative;margin-bottom:32px}.preview_appmsg .rich_media_title.rich_media_title{margin-top:0}}.pages_reset{color:#333;line-height:1.6;font-size:16px;font-weight:400;font-style:normal;text-indent:0;letter-spacing:normal;text-align:left;text-decoration:none;white-space:normal}.weapp_element,.weapp_display_element,.mp-miniprogram{display:block;margin:1em 0}.share_audio_context{margin:16px 0}.weapp_text_link{font-size:17px}.weapp_text_link:before{content:'';display:inline-block;line-height:1;background-size:contain;background-repeat:no-repeat;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAB4RJREFUWAm1WUuMFGUQnn7szL5mdvbh7GwgEQUlS1weiagxxpigiUZeJgY1cMMDcDCGG8GLCWZvxHjh4BWUeDEsejBBEzWYKBBEiHAABBfCMOwsuzvszrvb+v6Zb7amt1ce0Up6qv6q+qq+/rv778dYkUeUqamp5dFodJPv++ts205blpX2PG8I5cTOiLol44zYZ8vl8vFkMnnlUVpZDwPK5/MpIbWrVqttFlLD0jwiBEHIaNbCGKJjQvai+I9Xq9VD8Xg8y9z76QcimM1mu3t6ej4UYh84jtOFxhBNJGxskhp5xIielZ37bHp6+tNUKnWPOYvp+xKcm5t7S4gclKIpFNGzsmjRkBnUOwNbZjQrtfZ2dnZ+vVgd+O1/CVqlUukjIXZYCqZADBuEJIllc4xh61zmaB9s7LDkHkYPwJgX1KEEx8fHO2TmjkjyPgLQmERIAjHajGnyjDGPOfQ3xvvQCz3ZS+sw5hYAsodbWBhNw4SNGCMBnR/MYS60jskhPyaHe7u4W5otmEGZ8v0gx2YsyDE0bc4Wx8glOe2Dn2No2hqPnuiNXC0tM9i4IA5LcksjNm0BNs417aMNAsRom3HoMD8wsu3QF06TIJaSRCJxXrDmamUBrVEYRejDmDY0JEgsLE4f8mkTj6tb1tsRLkEukiBY56Q4rizThI2okaNtjFlUx+Cr1vzIyTMz7uW/ik4mV7Yd24oMDrR5q1Z01Nav6a5yVsLwcvRS4CI1D5ge+MEdQhbgC1yECSQhjMNsYCGMQ2dzFeuLYxOxibuVBec3cpekY7XtWwZK8a75sMajj2yzcsd5BnccM4PCeg/JoQjJwAY4TFgUMeRjXK54kS/H6uR6e1xvw4vJyuNLYh5yrt8s2d//MtV2M1Nyvvo2F9u5LVUSJEJNPPtKrS7XdXdL6GOzG+LYqIJNUiShYyRDjRw2OXnmnntnsmInE663e3u6uHZVZy2ZsH1sa4Y7ant2DBURu3aj6Jz9c9YBVuNRhz6pvwlju1gsPikzaG78CKIxNgh1sAj91MhFztXrRQf2C+vi1Y721tMC/vZYPQb78rWCE8Tr/uCEJyZbrprNAAST4QOAIGj6qBnDGPjZgmeS0gNRc1jD8D1xx+y978/XJh4awl54nHOl8Do6STKoDarxg5gmxpj2yTEwbtZhDvSlKwUzy+lU1NPxFvz8EcSzpnnYXDCD3AtqFtOFGNM+kMBYx+DzPD/y86m8e+7SnBON2v7qlR01ncP6Gg9uriSlGSSAYyTDhl/7bmTK9tXxkj3ydFetL4lTqT5jyIdgTB/0qT9m3R9/zbvT+Yottfw3XuktJxP1Q61rh/QfcuUcHBKmzcIwdCILQE/crVpHj9+JZe7U17hSyau89lJPxYDVD3KJm5qpWWMnJqMIY+nZvKGv/NQT7ebwcicI5RhYiHBLYx30WQxObWNMyQm5Q0cy7ULK6up0/PUj3dWXn48bckEMGrGZkPJ3bhssunLmLR2qXzyIacxitvT2XZm9jABWMEmD6QPJYzILILdyeWf13Y39ZTSEMAeaQpuxZUujHn26fhCPmI6Dmy0OvIE1AyyqfYWiH7n6d9GJxWz/7df7FpBjLjQETag1Me1HPKxXwJfByXeLRViUYGiI3F/NSYr1raPdNoXh594S75nVT1Z/mUz6kAfhGJp2EI887gRy5Bw0M/g7ndQI0gZISJkpyU6WbTm7m8RYELnFkh+ZnK4/qCTiWF4XXtk6X5NkLjX7iz4rh9keAxBODaKNWKrf9Qd627yC3Cm++2m6DbHWYpHI2Im7UfFZqf6oN9DrmAsPWIquH8QjR8dRG2O88JszW56kTwvRYSayOYtD37xdsT8/ejtWq/nWsqXttdXDHdW+RNTHY9Vv5/IuTgPHtfxd7w0V04/V1ziND5IiCeTofsyTw3tRnqyfNY9b8qg1JkktXwo0EKAlg23eO2/2l7/5YaoNTyPYNIFEt6xxr/aVQQ75QTxJkEBYnDFocEKOqYQHVnn+uiCBLji1IBnCBiVZ+U6fv+dmshV7cqpq9fY4/tBg1HtudXe1zeyuRs9fHMRrEvQBQT9smb1Z+YphHljr3cWJF2gB7NOENAhAjrWGP9iIPuZhDOFYa/hD8KOxWOyAweAHEnxpqnvrvyyofbQZg4boZsEcjrUO4mX2Wl6a6jdhQeAtSoJ70YDNoIMFwmJoqImF5Wgf8jHGRhx0Y9vLNzrkNQligPdRuZpHgyDEKIixMPMQow82/dC04YdgzFwdg0+2Uf1OjPzmOYhBQ6xCoYCX9626WDOo9pqNqHUO7IfBy0XxYJ8+UHdiYuJ9AHQT2GGiycHmmLNDkmFY+JCPXrlcbqcMW28/iCNpEcHnt/3SwHzhQiEIG5JAGDYsN8yHGjil5Ir9BKVDa4U5ta/xveagNDCfRBhDQ5JczEaujhHb0FlclMFzLpDTepEEgxijAL6VSCNcPLPw6aa0oSEgTZsx+GFjwyIsenRmZmbkfuQMDj8PKrjjyCHZIw02im7eGokHAQhnFjZ8GAux/+8jOhoFhX9DCIG1EsPfD9jMC5j4/rO/If4BCiyOk7IAfLMAAAAASUVORK5CYII=');vertical-align:middle;font-size:11px;color:#888;margin-right:6px;margin-top:-3px;background-position:center;height:20px;width:20px}.flex_context{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex_bd{-webkit-box-flex:1;-webkit-flex:1;flex:1;word-wrap:break-word;word-break:break-all}.original_page{background-color:#fff;font-size:16px}.account_info{padding:0 0 20px}.account_info .flex_bd{padding-left:.85em}.radius_avatar.account_avatar{width:40px;height:40px;padding:0}.account_nickname{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;line-height:1.2;color:#576b95;font-size:14px}.account_nickname_inner{font-weight:400;vertical-align:top}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:#b2b2b2;font-size:13px;line-height:1.2;padding-top:.3em}.account_desc_inner{display:inline;vertical-align:top}.share_notice{margin-bottom:20px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.share_media{padding-bottom:18px}.original_panel{padding:20px;background-color:#fcfcfc;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;position:relative}.original_panel:after{content:" ";border:1px solid #d8d8d8;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;position:absolute;top:0;left:0;width:200%;height:200%;-webkit-transform:scale(0.5);transform:scale(0.5);-webkit-transform-origin:0 0;transform-origin:0 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.original_panel .original_account{margin-bottom:18px;position:relative;z-index:1}.original_panel .original_account_avatar{width:28px;height:28px;padding:0}.original_panel .original_account_nickname{padding-left:.85em;font-size:15px;color:#576b95}.original_panel_title{font-size:23px;color:#000;margin:0 0 16px}.original_panel_content{color:#333}.original_panel_tool{padding-top:20px;position:relative;z-index:1}.original_tool_area.disabled{padding:0}.original_tool_area.disabled .flex_cell_bd{-webkit-box-flex:initial;-webkit-flex:initial;-ms-flex:initial;box-flex:initial;flex:initial}.original_tool_area.disabled .flex_cell_ft{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;box-flex:1;flex:1;padding:0}.original_tool_area.disabled .original_tool_tips:after{content:"："}.original_tool_area.disabled .original_cell_nickname{color:rgba(0,0,0,0.3);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;white-space:normal;max-width:none;min-height:1.6em}.original_tool_area.disabled:before,.original_tool_area.disabled:after,.original_tool_area.disabled .radius_avatar,.original_tool_area.disabled .icon_access:after{display:none}.original_cell_nickname{display:inline-block;vertical-align:middle;font-weight:400;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;max-width:8em;color:#000}.original_tool_area{padding:1.17em 0;border-width:0;position:relative}.original_tool_area:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #dfdfdf;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dfdfdf;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:20px;height:20px;margin-right:.2em}.original_tool_area .flex_cell{padding:0;font-size:14px}.original_tool_area .icon_access:after{margin-right:4px;top:0}.preview_appmsg .rich_media_title{margin-top:1.5em}.preview_appmsg .account_info{padding-top:3em}.original_page{background-color:transparent}.account_info{-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0;padding-bottom:20px;font-size:14px}.account_info.appmsg_account_info{padding-bottom:32px}.account_info .radius_avatar img{background-color:transparent}.share_notice{font-size:16px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.original_panel{background-color:#fafafa}.original_panel:after{border-color:#e6e6e6}.original_panel .original_account_avatar{width:30px;height:30px}.original_panel_tool{font-size:14px}.original_panel_tool a{color:#576b95}.original_panel_content{font-size:17px}.share_media{padding-bottom:30px}.icon_appmsg_tag{display:inline-block;vertical-align:middle;padding:0 .5em;font-size:12px;line-height:1.5;background-color:#c3c3c3;color:#fff;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;max-width:70%}.icon_appmsg_tag.primary{color:#3bb638;padding:4px .78em;background-color:rgba(9,187,7,0.08);font-size:12px;border-top-left-radius:.95em 50%;-moz-border-radius-topleft:.95em 50%;-webkit-border-top-left-radius:.95em 50%;border-top-right-radius:.95em 50%;-moz-border-radius-topright:.95em 50%;-webkit-border-top-right-radius:.95em 50%;border-bottom-left-radius:.95em 50%;-moz-border-radius-bottomleft:.95em 50%;-webkit-border-bottom-left-radius:.95em 50%;border-bottom-right-radius:.95em 50%;-moz-border-radius-bottomright:.95em 50%;-webkit-border-bottom-right-radius:.95em 50%}.icon_appmsg_tag.default{border:1px solid rgba(0,0,0,0.1);color:rgba(0,0,0,0.3);background-color:transparent;padding:0 .54em;font-size:15px;line-height:1.3;border-top-left-radius:.67em 50%;-moz-border-radius-topleft:.67em 50%;-webkit-border-top-left-radius:.67em 50%;border-top-right-radius:.67em 50%;-moz-border-radius-topright:.67em 50%;-webkit-border-top-right-radius:.67em 50%;border-bottom-left-radius:.67em 50%;-moz-border-radius-bottomleft:.67em 50%;-webkit-border-bottom-left-radius:.67em 50%;border-bottom-right-radius:.67em 50%;-moz-border-radius-bottomright:.67em 50%;-webkit-border-bottom-right-radius:.67em 50%}.rich_media_meta_list .icon_appmsg_tag.default{margin-top:-1px}.icon_appmsg_tag.title_tag{background-color:#d04b4e}.icon_global_tag_wrp{text-align:right;padding-bottom:12px}.icon_global_tag{background-color:rgba(118,118,118,0.16);color:rgba(0,0,0,0.41);line-height:2.2;border-top-left-radius:1em 50%;-moz-border-radius-topleft:1em 50%;-webkit-border-top-left-radius:1em 50%;border-bottom-left-radius:1em 50%;-moz-border-radius-bottomleft:1em 50%;-webkit-border-bottom-left-radius:1em 50%;padding:0 1.8em 0 1.34em;font-size:12px;margin-right:-24px;display:inline-block;vertical-align:top}.global_plain_btn{display:inline-block;vertical-align:middle;padding:0 1em;line-height:2;font-size:14px;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}.global_plain_btn.primary{color:#1aad19;border:1px solid currentColor}.global_plain_btn.primary:active{color:rgba(26,173,25,0.6)}.wx_video_context{color:#fefefe;position:relative;background-color:#000}.wx_video_thumb,.wx_video_thumb_primary{position:absolute;left:0;width:100%;height:100%!important;top:0}.wx_video_thumb_primary{-webkit-background-size:cover;background-size:cover;background-position:50% 50%;background-repeat:no-repeat}.wx_video_play_btn{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-top:-2px;font-size:0;border-width:0;background-color:transparent;padding:0;outline:0;z-index:2}.wx_video_play_btn:before{content:" ";display:inline-block;width:0;height:0;border-width:14px 0 14px 25px;border-color:transparent transparent transparent #fff;border-style:dotted dotted dotted solid}.wx_video_mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,0.5)}.place_audio_area{min-height:100px;background-color:#fdfdfd;display:block;margin:16px 0}.place_music_area{min-height:68px;background-color:#fdfdfd;display:block;margin:17px 0 16px}.rich_media_empty_extra{background-color:#fafafa}.appmsg_skin_default.rich_media_empty_extra{background-color:#fff}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.appmsg_style_default .rich_media_tool{padding-top:15px}.rich_media_title_ios{font-weight:700}.read-more__area{margin:30px 0}.read-more__desc{margin-bottom:10px}.read-more__article__extra{font-size:14px;color:rgba(0,0,0,0.5)}.read-more__article__item{margin-bottom:10px}</style>
<style>
        </style>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/pc435ee6.css">
<![endif]-->

    </head>
    <body id="activity-detail" class="zh_CN mm_appmsg  appmsg_skin_default appmsg_style_default">
        
<script nonce="923001970" type="text/javascript">
    var biz = ""||"MzUyNTczNzI2MA==";
    var sn = "" || ""|| "7d3b1d901ce7c4faf50f1cd369d5fc80";
    var mid = "" || ""|| "2247483965";
    var idx = "" || "" || "1";
    window.__allowLoadResFromMp = true; 
    
        
</script>
<script nonce="923001970" type="text/javascript">
var page_begintime=+new Date,is_rumor="",norumor="";
1*is_rumor&&!(1*norumor)&&biz&&mid&&(document.referrer&&-1!=document.referrer.indexOf("mp.weixin.qq.com/mp/rumor")||(location.href="http://mp.weixin.qq.com/mp/rumor?action=info&__biz="+biz+"&mid="+mid+"&idx="+idx+"&sn="+sn+"#wechat_redirect"));
</script>
<script nonce="923001970" type="text/javascript">
var MutationObserver=window.WebKitMutationObserver||window.MutationObserver||window.MozMutationObserver,isDangerSrc=function(t){
if(t){
var e=t.match(/http(?:s)?:\/\/([^\/]+?)(\/|$)/);
if(e&&!/qq\.com(\:8080)?$/.test(e[1])&&!/weishi\.com$/.test(e[1]))return!0;
}
return!1;
},ishttp=0==location.href.indexOf("http://");
-1==location.href.indexOf("safe=0")&&ishttp&&"function"==typeof MutationObserver&&"mp.weixin.qq.com"==location.host&&(window.__observer_data={
count:0,
exec_time:0,
list:[]
},window.__observer=new MutationObserver(function(t){
window.__observer_data.count++;
var e=new Date,r=[];
t.forEach(function(t){
for(var e=t.addedNodes,o=0;o<e.length;o++){
var n=e[o];
if("SCRIPT"===n.tagName){
var i=n.src;
isDangerSrc(i)&&(window.__observer_data.list.push(i),r.push(n)),!i&&window.__nonce_str&&n.getAttribute("nonce")!=window.__nonce_str&&(window.__observer_data.list.push("inlinescript_without_nonce"),
r.push(n));
}
}
});
for(var o=0;o<r.length;o++){
var n=r[o];
n.parentNode&&n.parentNode.removeChild(n);
}
window.__observer_data.exec_time+=new Date-e;
}),window.__observer.observe(document,{
subtree:!0,
childList:!0
})),function(){
if(-1==location.href.indexOf("safe=0")&&Math.random()<.01&&ishttp&&HTMLScriptElement.prototype.__lookupSetter__&&"undefined"!=typeof Object.defineProperty){
window.__danger_src={
xmlhttprequest:[],
script_src:[],
script_setAttribute:[]
};
var t="$"+Math.random();
HTMLScriptElement.prototype.__old_method_script_src=HTMLScriptElement.prototype.__lookupSetter__("src"),
HTMLScriptElement.prototype.__defineSetter__("src",function(t){
t&&isDangerSrc(t)&&window.__danger_src.script_src.push(t),this.__old_method_script_src(t);
});
var e="element_setAttribute"+t;
Object.defineProperty(Element.prototype,e,{
value:Element.prototype.setAttribute,
enumerable:!1
}),Element.prototype.setAttribute=function(t,r){
"SCRIPT"==this.tagName&&"src"==t&&isDangerSrc(r)&&window.__danger_src.script_setAttribute.push(r),
this[e](t,r);
};
}
}();
</script>

        <link rel="dns-prefetch" href="//res.wx.qq.com">
<link rel="dns-prefetch" href="//mmbiz.qpic.cn">
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">
<link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C">
<link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png">
<script nonce="923001970" type="text/javascript">
    String.prototype.html = function(encode) {
        var replace =["&#39;", "'", "&quot;", '"', "&nbsp;", " ", "&gt;", ">", "&lt;", "<", "&yen;", "¥", "&amp;", "&"];
        
		
		
		
		
        
        var replaceReverse = ["&", "&amp;", "¥", "&yen;", "<", "&lt;", ">", "&gt;", " ", "&nbsp;", '"', "&quot;", "'", "&#39;"];
	    var target;
	    if (encode) {
	    	target = replaceReverse;
	    } else {
	    	target = replace;
	    }
        for (var i=0,str=this;i< target.length;i+= 2) {
             str=str.replace(new RegExp(target[i],'g'),target[i+1]);
        }
        return str;
    };

    window.isInWeixinApp = function() {
        return /MicroMessenger/.test(navigator.userAgent);
    };

    window.getQueryFromURL = function(url) {
        url = url || 'http://qq.com/s?a=b#rd'; 
        var tmp = url.split('?'),
            query = (tmp[1] || "").split('#')[0].split('&'),
            params = {};
        for (var i=0; i<query.length; i++) {
            var arg = query[i].split('=');
            params[arg[0]] = arg[1];
        }
        if (params['pass_ticket']) {
        	params['pass_ticket'] = encodeURIComponent(params['pass_ticket'].html(false).html(false).replace(/\s/g,"+"));
        }
        return params;
    };

    (function() {
	    var params = getQueryFromURL(location.href);
        window.uin = params['uin'] || "" || '';
        window.key = params['key'] || "" || '';
        window.wxtoken = params['wxtoken'] || '';
        window.pass_ticket = params['pass_ticket'] || '';
        window.appmsg_token = "";
    })();

    function wx_loaderror() {
        if (location.pathname === '/bizmall/reward') {
            new Image().src = '/mp/jsreport?key=96&content=reward_res_load_err&r=' + Math.random();
        }
    }

</script>

<script nonce="923001970" type="text/javascript">
        window.__moon_report_uin = "0";
            window.no_moon_ls = 0;
    </script>

        
<script nonce="923001970" type="text/javascript">
    var write_sceen_time = (+new Date());
</script>

<div id="js_article" class="rich_media">
    
    <div id="js_top_ad_area" class="top_banner"></div>
    
    <div class="rich_media_inner">

        
        
        <div id="page-content" class="rich_media_area_primary">
          <div class="rich_media_area_primary_inner">
                                    
                        

            <div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">
                    
                    
                    Swift 5 终于来了，快来看看有什么更新！！

                                                                                </h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                            <span id="copyright_logo" class="rich_media_meta rich_media_meta_text meta_tag_text">原创：</span>
                                                            <span class="rich_media_meta rich_media_meta_text">
                                                SwiftOldDriver
                                            </span>
                                        
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" id="js_name">
                        OldDriverWeekly                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">OldDriverWeekly</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">RealOldDriver</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">每周定期整理与发布业界资讯、开发工具、开源代码、学习资料、求职招聘信息。</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text"></em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <h1 style="font-size: 32px;white-space: normal;text-align: left;"><img class="" data-backh="214" data-backw="556" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/N2Dic2hzH38xIklGpicJt1aicB4ak02zNK5vU6Nv9Vmyib4bxrS0YFEFB2aMqibQ3TW4hJClsd2UnF6euevpe4tdwtQ/640?wx_fmt=png" data-copyright="0" data-cropselx1="0" data-cropselx2="556" data-cropsely1="0" data-cropsely2="212" data-ratio="0.384375" data-src="https://mmbiz.qpic.cn/mmbiz_png/N2Dic2hzH38xIklGpicJt1aicB4ak02zNK5vU6Nv9Vmyib4bxrS0YFEFB2aMqibQ3TW4hJClsd2UnF6euevpe4tdwtQ/640?wx_fmt=png" data-w="1280" data-type="png" style="margin-right: auto;margin-left: auto;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;text-align: justify;display: block;width: 100%;height: auto;"  /></h1><p style="white-space: normal;"><span style="font-size: 18px;"><strong><span style="color: rgb(36, 41, 46);background-color: rgb(250, 251, 252);">阅读原文获取更佳体验</span></strong></span></p><p style="white-space: normal;"><br  /></p><p style="white-space: normal;">Swift5 正式更新，官方提供了更新笔记说明，我们周报编辑团队的&nbsp;@Tom&nbsp;组织&nbsp;@老老老老老老老驴，@小非86，@邦ben&nbsp;和&nbsp;@极速男孩&nbsp;为大家做了第一手的翻译工作，方便大家了解这次对于 Swift 发展史很重要的一次迭代。另外，@Tom&nbsp;所在的深圳头条研发中心正在招募各路好手，有兴趣的可以加他微信 tomtan，切磋技术和聊情怀都可以喔~~~~</p><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">概要</h3><p style="white-space: normal;">在 Xcode10.2 版本中，将可以使用 Swift5.0 进行开发</p><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">总体（General）</h3><h4 style="white-space: normal;">Swift 5 运行时对命令行工具的支持</h4><ul class=" list-paddingleft-2" style=""><li><p>Swift 命令行工具从 Xcode 10.2 开始需要依赖于 macOS 中的Swift库。这些库将从 macOS Mojave 10.14.4 开始默认包含在 macOS 中。在 macOS Mojave 10.14.3 和更早的版本中，可以选择从&nbsp;More Downloads for Apple Developers&nbsp;下载 Swift 命令行工具所需要的运行时库。如果你安装了 beta 版本，需要将其替换成正式版本。只有在 Swift 命令行工具中才需要这个包，而并不适用于具有图形用户界面的应用程序。</p></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">App 瘦身（App Thinning）</h3><h4 style="white-space: normal;">新特性</h4><ul class=" list-paddingleft-2" style=""><li><p>Swift 不再包含 Swift 标准库的动态链接，并且会在 iOS 12.2, watchOS 5.2, and tvOS 12.2 中内置 Swift SDK 。从而 Swift apps 在你上传 App Store ，发布 TestFlight 测试，和本地打包时会变得更小。</p><p>想要比较应用在 iOS 12.2 和 iOS 12.1 之前版本瘦身的大小的区别，你可以把应用的 deployment target 设为 iOS 12.1 或之前的版本，然后将scheme 设为 Generic iOS Device 生成一个归档文件。然后用选择 Archives organizer 中的发布应用中的 Development distribution。确定在 App Thinning 的下拉菜单中选中某个特定的设备如：iPhone XS 。当发布完成以后，在刚刚创建的文件夹中打开 App Thinning Size Report ，可以看到 iOS 12.2 的安装包要比 iOS 12.1 或者更早的版本要小。准确的大小差别取决于你的 app 使用系统框架的数量。</p><p>想要获取更多 app 瘦身的信息，可以参考&nbsp;Xcode Help&nbsp;中的&nbsp;What is app thinning?&nbsp;。</p><p>获取更多 app文件大小的信息，可以参考&nbsp;App Store Connect Help&nbsp;中的&nbsp;View builds and file sizes&nbsp;。</p></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">Swift 语言特性（Swift Language）</h3><h4 style="white-space: normal;">新特性</h4><ul class=" list-paddingleft-2" style=""><li><p>字符串的声明，现在可以使用更好用的分隔符了。当使用（#）号来包住一个字符串的时候，可以使用多个（#）号来分割纯字符和变量声明。使用增强的分隔符，可以避免写得很混乱的字符串转义声明。（SE-0200）（47725014）：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(#<span class="hljs-string" style="color: rgb(221, 17, 68);">"&lt;a href="</span>\#(url)<span class="hljs-string" style="color: rgb(221, 17, 68);">" title="</span><span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Apple</span> <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Developer</span><span class="hljs-string" style="color: rgb(221, 17, 68);">"&gt;"</span>#)<br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// 等价于:</span><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(<span class="hljs-string" style="color: rgb(221, 17, 68);">"&lt;a href=\"<span class="hljs-subst" style="color: rgb(51, 51, 51);">\(url)</span>\" title=\"Apple Developer\"&gt;"</span>)<br  /></code></pre></li><li><p>如果声明的类型与标准库中的类型具有相同的名称，则会覆盖了标准库中的类型声明。（46767892）</p><p>例如，在模块 Foo 中声明了一个类型，名字是 Result</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Module `Foo`.</span><br  />  public <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">enum</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Result</span>&lt;<span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">T</span>&gt; </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">case</span> value(<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">T</span>)<br  />      <span class="hljs-keyword" style="font-weight: bold;">case</span> error(<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Error</span>)<br  />  }<br  /></code></pre><p>这样在任何使用了 Foo 模块的代码中，Result 类型都将被认为是&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Foo.Result</code>：</p><pre><code class="hljs language-Swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-keyword" style="font-weight: bold;">import</span> <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Foo</span><br  />  <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">doSomething</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">Result</span><span class="hljs-generics">&lt;Int&gt;</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* … */</span> }<br  /></code></pre><p>那么如果真的想要引用标准库中的Result类型，那么必须加上显式的声明：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-keyword" style="font-weight: bold;">import</span> <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Foo</span><br  />  <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">useStandardLibraryResult</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">Swift</span>.<span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">Result</span><span class="hljs-generics">&lt;Int, Error&gt;</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* … */</span> }<br  /></code></pre></li><li><p>如果一个变量声明为<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">@dynamicCallable</code>的话，这样可以使用一个函数调用的语法糖，这个语法糖主要的使用场景是动态语言互操作（SE-0216）（47325423）</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  @dynamicCallable <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">struct</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">ToyCallable</span> </span>{<br  />      <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">dynamicallyCall</span><span class="hljs-params">(withArguments: [Int])</span> </span>{}<br  />      <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">dynamicallyCall</span><span class="hljs-params">(withKeywordArguments: KeyValuePairs&lt;String, Int&gt;)</span> </span>{}<br  />  }<br  /><br  />  <span class="hljs-keyword" style="font-weight: bold;">let</span> x = <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">ToyCallable</span>()<br  /><br  />  x(<span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">3</span>)<br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// 上面的代码实际上是一个语法糖，如果不用语法糖的话，代码会像这样子写  `x.dynamicallyCall(withArguments: [1, 2, 3])`</span><br  /><br  />  x(label: <span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>)<br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// 上面的代码实际上是一个语法糖，如果不用语法糖的话，代码会像这样子写   `x.dynamicallyCall(withKeywordArguments: ["label": 1, "": 2])`</span><br  /></code></pre></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">标识键路径（Key paths）</code>功能现在支持一个特殊的标记方式<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">（\.self）</code>，WritableKeyPath指代了整个输入值SE-0227）（40538312）</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-keyword" style="font-weight: bold;">let</span> id = \<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span>.<span class="hljs-keyword" style="font-weight: bold;">self</span><br  />  <span class="hljs-keyword" style="font-weight: bold;">var</span> x = <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(x[keyPath: id]) <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Prints "2"</span><br  />  x[keyPath: id] = <span class="hljs-number" style="color: rgb(0, 128, 128);">3</span><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(x[keyPath: id]) <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Prints "3"</span><br  /></code></pre></li><li><p>在 Swift5 之前，可以编写一个带有可变参数的枚举体：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">enum</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">X</span> </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">case</span> foo(bar: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span>...) <br  />  }<br  /> &nbsp;&nbsp;<span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">baz</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">X</span> </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">return</span> .foo(bar: <span class="hljs-number" style="color: rgb(0, 128, 128);">0</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">3</span>) <br  />  }<br  /></code></pre><p>这不是一个特意支持的特性，现在会产生编译错误了。（46821582）<br  />相对地，你可以用数组的声明来代替可变参数声明：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">enum</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">X</span> </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">case</span> foo(bar: [<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span>]) <br  />  } <br  />   <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">baz</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">X</span> </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">return</span> .foo(bar: [<span class="hljs-number" style="color: rgb(0, 128, 128);">0</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">3</span>]) <br  />  }<br  /></code></pre></li><li><p>在 Swift5 下，<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">try?</code>如果用在可选类型上的话，就算是多层使用，也不会导致返回值是一个多层嵌套的可选类型了。（SE-0230）（47313584）</p></li><li><p>如果一个类型<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">T</code>符合Initialization with Literals中的一个协议，例如ExpressibleByIntegerLiteral，并且是一个标量表达式的话，那么将不需要一直使用<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">T</code>用在泛型协议声明中了</p><p>例如：现在可以这样子写一个变量表达式</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">UInt64</span>(<span class="hljs-number" style="color: rgb(0, 128, 128);">0xffff_ffff_ffff_ffff</span>)<br  /></code></pre><p>在之前的版本的话将会导致Int溢出错误。（SE-0213）（17088188）</p></li><li><p>字符串插入大幅提高了性能表现。（SE-0228）（43621912）</p></li><li><p>一个旧的协议<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">_ExpressibleByStringInterpolation</code>被移除了。如果你希望继续使用这个协议的话，你可以通过条件编译选项来实现新老板本的兼容。</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  #<span class="hljs-keyword" style="font-weight: bold;">if</span> compiler(&lt;<span class="hljs-number" style="color: rgb(0, 128, 128);">5</span>)<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyType</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">_ExpressibleByStringInterpolation</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/*...*/</span> }<br  />  #<span class="hljs-keyword" style="font-weight: bold;">else</span><br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyType</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">ExpressibleByStringInterpolation</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/*...*/</span> }<br  />  #endif<br  /></code></pre></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">Swift 标准库（Swift Standard Library）</h3><h4 style="white-space: normal;">新特性</h4><ul class=" list-paddingleft-2" style=""><li><p>标准库现在包括&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Result</code>&nbsp;枚举&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Result.success(_:)</code>&nbsp;和&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Result.failure(_:)</code>&nbsp;。在<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">do-catch</code>&nbsp;语句和&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">try</code>&nbsp;表达式不能使用的情况下(例如在使用可能失败的异步api时)，使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Result</code>&nbsp;手动传递和处理错误。</p><p>作为添加的一部分，<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Error</code>&nbsp;协议的自我一致性，这使得在通用上下文中处理错误更加容易。(SE-0235)(21200405)</p></li><li><p>SIMD&nbsp;类型和基本操作符现在在标准库中定义。在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">simd</code>&nbsp;框架提供的类型中，&nbsp;float2&nbsp;和&nbsp;float3，现在是新标准库类型的类型别名。</p><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">SIMD</code>&nbsp;类型是标量元素类型上的泛型。例如，旧的&nbsp;float3&nbsp;类型是&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">SIMD3&lt;Float&gt;</code>&nbsp;的类型别名。任何符合&nbsp;SIMDScalar&nbsp;协议的类型都可以用作&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">SIMD</code>&nbsp;向量的标量类型，但是有效的向量化依赖于为相关的&nbsp;SIMDStorage&nbsp;类型选择一个良好的数据布局并进行有效的下标操作。</p><p>大多数使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">simd</code>&nbsp;类型的现有代码可以继续使用新的泛型&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">simd</code>&nbsp;类型，但是需要注意一些更改。</p><p>新类型增加了一些新的一致性;&nbsp;SIMD&nbsp;向量现在是&nbsp;Hashable&nbsp;、Equatable&nbsp;和&nbsp;Codable。这可能允许您删除在您自己的代码中提供这些一致性的一些现有扩展。</p><p>为提供向量标量算法而重载的运算符集得到了极大的扩展。这使得编写一些东西变得更容易，但是在某些情况下会给&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">typechecker</code>&nbsp;带来歧义，并且可能需要分解一些表达式或使用显式类型进行注释。</p><p>由于现在的类型是泛型而不是具体的，如果您已经在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">simd</code>&nbsp;框架类型上定义了自己的协议，那么可能有必要重构一致性，因为&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift</code>&nbsp;泛型类型不能对协议有多个条件一致性。这种情况相对比较少见，但通常需要重构如下代码:</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">protocol</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyVectorProtocol</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">float2</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyVectorProtocol</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">double2</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyVectorProtocol</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  /></code></pre><p>要改为使用以下结构：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">protocol</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MySIMDScalarProtocol</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">SIMDScalar</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">SIMD2</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">where</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Scalar</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MySIMDScalarProtocol</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Or even:</span><br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">protocol</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MySIMDScalarProtocol</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">SIMDScalar</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">SIMD</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">where</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Scalar</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MySIMDScalarProtocol</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/* ... */</span> }<br  /></code></pre><p>这种更改通常允许您删除许多冗余实现，但它要求您定义任何必要的实现&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Hook</code>，这些&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Hook</code>&nbsp;引用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Darwin</code>&nbsp;系统上标量类型的C头文件中的具体函数。(SE-0229)(17045503)</p></li><li><p>Set&nbsp;和&nbsp;Dictionary&nbsp;现在为每个新创建的实例使用不同的散列种子。因此，在&nbsp;Set&nbsp;和&nbsp;Dictionary&nbsp;中，元素的顺序每次都会改变:</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-keyword" style="font-weight: bold;">let</span> a: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Set</span>&lt;<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span>&gt; = [<span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">3</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">4</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">5</span>]<br  />  <span class="hljs-keyword" style="font-weight: bold;">let</span> b: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Set</span>&lt;<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span>&gt; = [<span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">3</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">4</span>, <span class="hljs-number" style="color: rgb(0, 128, 128);">5</span>]<br  />  a == b  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// true</span><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(a) <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// [1, 4, 3, 2, 5]</span><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(b) <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// [4, 2, 5, 1, 3]</span><br  /></code></pre><p>现有的代码错误地假设两个不相关但相等的集合或字典将以相同的顺序包含元素，这在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 5</code>&nbsp;中更容易产生错误的结果。尽管元素顺序在不同的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Set</code>&nbsp;或&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Dictionary</code>&nbsp;实例之间并不稳定，但是在同一个实例上的多次迭代之间，顺序不会发生变化。除了强调这些集合不能保证一致的元素顺序外，此更改还修复了大量操作的情况。例如：<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">union(_:)</code>&nbsp;二次性能。（44760778）</p></li><li><p>为了防止&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Cocoa</code>&nbsp;对象的不一致哈希，<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">NSObject</code>&nbsp;上的&nbsp;hashValue&nbsp;属性不再是可重写的。在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 4.2</code>&nbsp;废弃重写&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">hashValue</code>。要在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">NSObject</code>&nbsp;子类中重写属性&nbsp;hash&nbsp;来自定义哈希值。下面展示一个例子:</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Person</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">NSObject</span> </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">let</span> name: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">String</span><br  /><br  />      <span class="hljs-keyword" style="font-weight: bold;">init</span>(name: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">String</span>) {<br  />          <span class="hljs-keyword" style="font-weight: bold;">self</span>.name = name<br  />          <span class="hljs-keyword" style="font-weight: bold;">super</span>.<span class="hljs-keyword" style="font-weight: bold;">init</span>()<br  />      }<br  /><br  />      <span class="hljs-keyword" style="font-weight: bold;">override</span> <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">isEqual</span><span class="hljs-params">(<span class="hljs-number" style="color: rgb(0, 128, 128);">_</span> other: Any?)</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">Bool</span> </span>{<br  />          guard <span class="hljs-keyword" style="font-weight: bold;">let</span> other = other <span class="hljs-keyword" style="font-weight: bold;">as</span>? <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Person</span> <span class="hljs-keyword" style="font-weight: bold;">else</span> { <span class="hljs-keyword" style="font-weight: bold;">return</span> <span class="hljs-built_in" style="color: rgb(0, 134, 179);">false</span> }<br  />          <span class="hljs-keyword" style="font-weight: bold;">return</span> other.name == <span class="hljs-keyword" style="font-weight: bold;">self</span>.name<br  />      }<br  /><br  />      <span class="hljs-keyword" style="font-weight: bold;">override</span> <span class="hljs-keyword" style="font-weight: bold;">var</span> hash: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span> {<br  />          <span class="hljs-keyword" style="font-weight: bold;">var</span> hasher = <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Hasher</span>()<br  />          hasher.combine(name)<br  />          <span class="hljs-keyword" style="font-weight: bold;">return</span> hasher.finalize()<br  />      }<br  />  }<br  /></code></pre><p>哈希和相等判断是相辅相成。如果重写&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">hash</code>，还需要覆盖&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">isEqual(_:)</code>，反之亦然。(42623458)</p></li><li><p>DictionaryLiteral&nbsp;类型改名成&nbsp;KeyValuePairs。 (SE-0214) (23435865)</p></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift</code>&nbsp;字符串桥接到&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Objective-C</code>&nbsp;可能适当地在&nbsp;CFStringGetCStringPtr(<em>:</em>:)&nbsp;返回非&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">nil</code>&nbsp;值，而从&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">UTF8String</code>&nbsp;方法返回的指针则绑定到字符串的生命周期，而不是最内层的自动释放池。正确的程序应该不会有任何问题，并可能看到显著的加速。但是，它可能导致以前未测试的代码运行，从而暴露潜在的bug；例如，如果对非 nil 值进行检查，该分支可能从未在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 5</code>&nbsp;之前被执行过。(26236614)</p></li><li><p>Sequence&nbsp;协议不再具有&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">SubSequence</code>&nbsp;关联类型。以前返回子序列的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Sequence</code>&nbsp;上的方法现在返回具体类型。例如，suffix(_:)&nbsp;现在返回一个数组。(45761817)</p><p>使用子序列的序列上的扩展应该修改为类似地使用具体类型，或者修改为&nbsp;Collection&nbsp;上的扩展(如果子序列仍然可用)。</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Sequence</span> </span>{<br  />      <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">dropTwo</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">SubSequence</span> </span>{<br  />          <span class="hljs-keyword" style="font-weight: bold;">return</span> <span class="hljs-keyword" style="font-weight: bold;">self</span>.<span class="hljs-built_in" style="color: rgb(0, 134, 179);">dropFirst</span>(<span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>)<br  />      }<br  />  }<br  /></code></pre><p>变为：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Sequence</span> </span>{<br  />      <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">dropTwo</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">DropFirstSequence</span><span class="hljs-generics">&lt;Self&gt;</span> </span>{ <br  />          <span class="hljs-keyword" style="font-weight: bold;">return</span> <span class="hljs-keyword" style="font-weight: bold;">self</span>.<span class="hljs-built_in" style="color: rgb(0, 134, 179);">dropFirst</span>(<span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>)<br  />      }<br  />  }<br  /></code></pre><p>或者：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Collection</span> </span>{<br  />      <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">dropTwo</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">SubSequence</span> </span>{<br  />          <span class="hljs-keyword" style="font-weight: bold;">return</span> <span class="hljs-keyword" style="font-weight: bold;">self</span>.<span class="hljs-built_in" style="color: rgb(0, 134, 179);">dropFirst</span>(<span class="hljs-number" style="color: rgb(0, 128, 128);">2</span>)<br  />      }<br  />  }<br  /></code></pre></li><li><p>String&nbsp;结构的本地编码从&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">UTF-16</code>&nbsp;转换为&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">UTF-8</code>，这可能会提高&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">String.UTF8View</code>&nbsp;相对&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">String.UTF16View</code>&nbsp;的性能。考虑重新评估使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">String.UTF16View</code>&nbsp;来调优性能的代码。(42339222)</p></li></ul><h4 style="white-space: normal;">已知的问题</h4><ul class=" list-paddingleft-2" style=""><li><p>Xcode 10.2 beta 版本&nbsp;Sequence&nbsp;协议中增加的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">count(where:)</code>&nbsp;方法已经被移除。(47549309)<br  /><strong>解决方案：</strong>使用&nbsp;reduce(<em>:</em>:)&nbsp;可以高效率地计算与谓词匹配的出现次数：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-keyword" style="font-weight: bold;">let</span> occurrences = sequence.<span class="hljs-built_in" style="color: rgb(0, 134, 179);">reduce</span>(<span class="hljs-number" style="color: rgb(0, 128, 128);">0</span>) { predicate($<span class="hljs-number" style="color: rgb(0, 128, 128);">1</span>) ? $<span class="hljs-number" style="color: rgb(0, 128, 128);">0</span> + <span class="hljs-number" style="color: rgb(0, 128, 128);">1</span> : $<span class="hljs-number" style="color: rgb(0, 128, 128);">0</span> }<br  /></code></pre></li></ul><h4 style="white-space: normal;">已解决的问题</h4><ul class=" list-paddingleft-2" style=""><li><p>可以按预期在字符串上设置&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">utf8</code>&nbsp;属性。(47864538)</p></li><li><p>传递 null&nbsp;UnsafeBufferPointer<uint8>&nbsp;给&nbsp;String&nbsp;结构体的&nbsp;init(decoding:as:)&nbsp;初始化方法现在可以正常的返回空字符串。 (47864610)</uint8></p></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">Swift 包管理（Swift Package Manager）</h3><h4 style="white-space: normal;">新特性</h4><ul class=" list-paddingleft-2" style=""><li><p>当使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 5 Package.swift tools-version</code>&nbsp;时，<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Targets</code>&nbsp;可以声明一些常用的、特定于目标的构建设置。还可以根据平台和构建配置对新设置进行条件设置。所包含的构建设置支持&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift</code>&nbsp;和&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">C</code>&nbsp;语言定义、<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">C</code>&nbsp;语言头文件搜索路径、链接库和链接 framework。(SE-0238)(23270646)</p></li><li><p>当使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 5 Package.swift tools-version</code>&nbsp;时，可以指定最低部署版本。如果包的任何包依赖项指定的最小部署目标大于包本身的最小部署目标，则构建会出现错误。(SE-0236) (28253354)</p></li><li><p>一个新的依赖项镜像特性允许顶级包覆盖依赖项url。(SE-0219)(42511642)</p><p>使用以下命令设置镜像：</p><pre><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">  $ swift package config set-mirror \<br  />  --package-url &lt;original URL&gt; --mirror-url &lt;mirror URL&gt;<br  /></code></pre></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">swift test</code>&nbsp;命令可以以一种标准格式生成代码覆盖率数据，这种格式适合使用标记&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">--enable-code-coverage</code>&nbsp;的其他代码覆盖率工具使用。生成的代码覆盖率数据在<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">&lt;build-dir&gt;/&lt;configuration&gt;/codecov</code>&nbsp;中可用。(44567442)</p></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 5</code>&nbsp;不再支持&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 3 Package.swift tools-version</code>。仍然在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift 3 Package.swift tools-version</code>&nbsp;的包应该更新到一个新版本。(41974124)</p></li><li><p>包管理器处理大型包的速度显著加快了。(35596212)</p></li><li><p>Swift 包管理器有一个新的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">--disable-automatic-resolution</code>&nbsp;标志，它强制包解析在包失败时失效。已解析项不再与&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Package.swift manifest</code>&nbsp;文件中指定的依赖项版本兼容。这个特性对于持续集成系统检查包&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Package.resolved</code>&nbsp;是否过期非常有用。(45822895)</p></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">swift run</code>&nbsp;命令有一个新的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">--repl</code>&nbsp;选项，该选项启动&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Swift REPL</code>，支持导入目标包的库。这使您可以轻松地从包目标测试API，而不需要构建调用该API的可执行文件。(44889181)</p></li><li><p>有关使用Swift包管理器的更多信息，请访问上&nbsp;swift.org&nbsp;的&nbsp;Using the Package Manager。</p></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">Swift Compiler</h3><h4 style="white-space: normal;">新特性</h4><ul class=" list-paddingleft-2" style=""><li><p>为了减少 Swift 元数据的占用体积，Swift 中的 convenience initializers 现在将不会提前分配内存空间，除非其调用了在 Objective-C 中定义的 designated initializer. 多数情况下，这不会对你的 app 产生任何影响。唯一例外是当你的 convenience Initializers 被 Objective-C 调用，同时，没有调用自身暴露给 Objective-C的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">self.init</code>&nbsp;，那么最初始分配的内存空间会在没有调用任何 initializer 下被释放掉。这可能会对使用 initializer 的人产生困扰，因为他们并没有意识有 object replacement 的发生。一个例子是&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">initWithCoder:</code>：<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">NSKeyedUnarchiver</code>&nbsp;如果调用了在 Swift 中定义的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">initWithCoder:</code>&nbsp;并且保存了存在循环的对象图，它最后的实现将会出错。</p><p>要避免这样的问题，你需要保证 convenience initializers 不支持 object replacement，同时，确保最终调用的 initializers 暴露给 Objective-C，这可以是在 Objective-C 中定义 initializers，或是被标记了&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">@objc</code>，亦或是他们被暴露给 Objective-C 的 initializers 覆写了，也可以是他们遵从任何一个标记了&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">@objc</code>&nbsp;的协议。</p></li><li><p>超过 16 字节对齐的 C 语言类型已不再被 Swift 支持。其实，之前版本 Swift 编译器也没有正确的处理这些类型过。(31411216)</p></li><li><p>在 Swift 5 模式中，非&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">final</code>&nbsp;类的 convenience initializer 中 Self 的类型是动态的 Self 类型，而非具体类型了。(47323459)</p></li><li><p>在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">optimized build</code>（<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">-O</code>&nbsp;和&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">-Osize</code>） 设置下，独占内存访问会在 runtime 中默认强制启用。若程序在 runtime 中违反独占内存访问，则程序会产生一条诊断信息：“Simultaneous accesses to […], but modification requires exclusive access”。你可以通过用命令行标记 -enforce-exclusivity=unchecked 来禁用检查，但是可能会导致产生未知的结果。Runtime 中违反独占内存访问一般会是由同时对类属性和全局变量（包括顶层代码中的变量和被逃逸闭包持有的变量）同时访问导致的。更多信息，请查看&nbsp;Swift 5 Exclusivity Enforcement. (SR-7139) (37830912)</p></li><li><p>移除对 Swift 3 的支持。现在编译器支持的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">-swift-version</code>&nbsp;是 4，4.2 和 5。</p></li><li><p>在 Swift 5 中，在 Switch 中遍历在 Objective-C 中定义的，或由系统框架定义的枚举时，将被要求处理 unknown case。Unknown case 有可能来自于后来新增或在 Objective-C 的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">.m</code>&nbsp;文件里进行私有定义。之前，Objective-C 允许枚举变量储存符合定义类型的任何值。这些情况现在都可以用新的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">@unknown default</code>&nbsp;来处理。不用担心，编译器依然会对漏掉的 case 进行警告。当然，普通的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">default</code>&nbsp;也是可以处理的。</p><p>如果你在 Objective-C 自定义了枚举变量，也不需要客户端对未知情况进行处理的话，那么，你可以使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">NS_CLOSED_ENUM</code>&nbsp;宏来代替&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">NS_ENUM</code>。 Swift 编译器会识别这些宏，之后，就不会再要求对&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">default</code>&nbsp;case 处理了。</p><p>在 Swift 4 和 Swift 4.2 模式下，你还是可以使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">@unknown default</code>&nbsp;进行处理。如果你没有添加&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">@unknown default</code>， 而 runtime 中有未知 case 传入，runtime 会捕获到这样的异常，这和 Xcode 10.1 中的 Swift 4.2 是一致的。(SE-0192) (39367045）</p></li><li><p>现在 SourceKit 生成的 Swift Modules 的接口中，默认参数会被显示出来，而非之前用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">placeholder default</code>&nbsp;来显示。(18675831)</p></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">unowned</code>&nbsp;和&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">unowned(unsafe)</code>&nbsp;变量现已支持&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Optional</code>&nbsp;类型。(47326769)</p></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">Known Issues</h3><ul class=" list-paddingleft-2" style=""><li><p>Key Path 中如果引用另外一个 Swift Module 中&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Protocol Extension</code>&nbsp;中的属性，可能会导致编译器奔溃。(48001932)</p><p>暂时解决方案：在当前 Module 中定义中间属性（<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">wrapper property</code>），在 key path 中引用这个中间属性而非原有属性。</p></li><li><p>若启用<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Thread Sanitizer</code>，可能导致 Swift 编译器在编译过程中奔溃。</p><p>暂时解决方案：在&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Scheme Editor</code>&nbsp;的&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Diagnostics</code>&nbsp;标签页下禁用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">Thread Sanitizer</code>。</p></li><li><p>链接静态 Swift 库可能会导致创建的二进制程序中缺失类型元数据，原因是静态库中的定义元数据的 Object 文件被错误的当做未使用。</p><p>这有可能导致一个 Swift runtime 错误，同时会有类似 “failed to demangle superclass of MyClass from mangled name ‘<mangled name="">’” 的错误信息。</mangled></p><p>暂时解决方案：如果你能重新编译静态库，请尝试启用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">whole module optimization</code>&nbsp;下进行编译。 否则，可以考虑添加&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">-all_load</code>&nbsp;到客户端二进制程序的链接器中来保证所有的 Object 文件都被链接入二进制程序。</p></li><li><p><code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">self.init()</code>&nbsp;在&nbsp;NSView&nbsp;和&nbsp;UIView&nbsp;的子类的 designated initializers 未被禁止，即便&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">init()</code>&nbsp;在 NSView 和 UIView 中是 convenience initializer。使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">self.init()</code>&nbsp;可能会导致储存属性被多次初始化，最终可能导致内存泄漏或者是其他问题。(SR-9836) (47734208)</p><p>暂时解决方案：使用&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">super.init(frame:)</code>&nbsp;来替代&nbsp;<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">self.init()</code></p></li></ul><h3 style="font-size: 24px;white-space: normal;text-align: left;line-height: 1.5;color: rgb(51, 204, 255);padding: 0.5em 0em !important;">Resolved Issues</h3><ul class=" list-paddingleft-2" style=""><li><p>除非你安装 Swift 5 命令行工具包的运行时支持，否则 Swift 命令行项目将无法在 macOS 10.14.3 及更早版本上运行。 如果没有该工具包，Swift 命令行项目会在启动时因“dyld：Library not loaded” 错误而崩溃。(46824656)</p></li><li><p>直接从命令行用 swiftc 编译器链接一个 Swift 项目，现在可以在 macOS Mojave 10.14.4 上输出正确的结果。(43616773)</p></li><li><p>与 Xcode 10.1 相比，Xcode 10.2 中的编译时间倒退现在在大多数情况下得到解决。 有些项目可能会继续经历小幅倒退；文件错误报告会记录您遇到的案例。(47304789)</p></li><li><p>即使引用了&nbsp;UIAccessibility&nbsp;结构体的成员或包含 NS_ERROR_ENUM 嵌套类型的其他类型，Swift 编译器也会完成“Merge swiftmodule”构建步骤。(47152185)</p></li><li><p>在某些上下文中允许使用单元素标记的元组表达式，如 (<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">label:123</code>)，但通常会导致令人惊讶的，不一致的行为，这些行为在编译器版本中会有所不同。 他们现在完全被禁止了。<br  />在 Swift 3 中已经禁止使用单元素标记类型，如<code style="margin-right: 2px;margin-left: 2px;padding: 2px 4px;overflow-wrap: break-word;border-radius: 4px;color: rgb(255, 102, 51);background: rgb(248, 248, 248);">var x:(label：Int)</code>。(SR-8109) (41474370)</p></li><li><p>如果 KeyPath 字面量引用了在 Objective-C 中定义的属性或者在 Swift 中使用 @objc 和动态修饰符定义的属性，它<br  />现在可以成功编译并在运行时生成正确的哈希值或与其他 KeyPath 的相等比较。(47184763)</p></li><li><p>扩展绑定现在支持嵌套类型的扩展，这些类型本身是在扩展内定义的。之前可能会因为声明顺序问题而失败，出现“undeclared type”错误。(SR-631) (20337822)</p></li><li><p>In Swift 5 mode, inferred associated types are no longer exposed publicly when a public type conforms to a non-public protocol. Instead, they get the minimum possible access to be visible from both the protocol and the conforming type. For source compatibility, Swift 4 and 4.2 modes continue to expose inferred associated types as publicly as the enclosing type unless the inferred associated type is itself less public than the conforming type.</p><p>在 Swift 5 模式下，当公共类型实现非公共协议时，推断的关联类型不再公开。 相反，它们获得同时对协议和实现类型可见的最小访问权限。对于版本兼容性，Swift 4 和 4.2 模式继续将推断的关联类型公开为封闭类型，除非推断的关联类型本身不如实现类型开放。(46143405)</p></li><li><p>在 Swift 5 模式下，返回 Self 的类方法不能再使用返回具体类类型（非 final）的方法来覆盖。这类代码不是类型安全的，需要将它们改掉。 (SR-695) (47322892)</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Base</span> </span>{ <br  />      <span class="hljs-keyword" style="font-weight: bold;">class</span> <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">factory</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">Self</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/*...*/</span> }<br  />  } <br  /><br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Derived</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Base</span> </span>{<br  />      <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">override</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">factory</span>() -&gt; <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Derived</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/*...*/</span> } <br  />  }<br  /></code></pre></li><li><p>在 Swift 5 模式下，现在明确禁止声明与嵌套类型同名的静态属性，而之前可以在泛型类型的扩展中进行这样的声明。(SR-7251) (47325738)</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">struct</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Foo</span>&lt;<span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">T</span>&gt; </span>{}<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">extension</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Foo</span> </span>{ <br  />      <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">struct</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">i</span> </span>{}<br  /><br  />      <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Error: Invalid redeclaration of 'i'.</span><br  />      <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// (Prior to Swift 5, this didn’t produce an error.) </span><br  />      <span class="hljs-keyword" style="font-weight: bold;">static</span> <span class="hljs-keyword" style="font-weight: bold;">var</span> i: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span> { <span class="hljs-keyword" style="font-weight: bold;">return</span> <span class="hljs-number" style="color: rgb(0, 128, 128);">0</span> }<br  />  }<br  /></code></pre></li><li><p>现在可以在子类中正确继承具有可变参数的指定初始化器。(16331406)</p></li><li><p>在 Swift 5 模式下，@autoclosure 参数不能再被转发给另一个函数调用的 @autoclosure 参数。相反，你必须使用括号显式调用函数值。调用将被包含在一个隐式闭包中，保证了与 Swift 4 模式相同的行为。(SR-5719) (37321597)</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">foo</span><span class="hljs-params">(<span class="hljs-number" style="color: rgb(0, 128, 128);">_</span> fn: @autoclosure <span class="hljs-params">()</span> -&gt; Int)</span> </span>{}<br  />  <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">bar</span><span class="hljs-params">(<span class="hljs-number" style="color: rgb(0, 128, 128);">_</span> fn: @autoclosure <span class="hljs-params">()</span> -&gt; Int)</span> </span>{<br  />      foo(fn) <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Incorrect, `fn` can’t be forwarded and has to be called.</span><br  />      foo(fn()) <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// OK</span><br  />  }<br  /></code></pre></li><li><p>现在完全支持复杂的递归类型定义，包括之前在运行时会导致死锁的类和泛型。(38890298)</p></li><li><p>在 Swift 5 模式下，在将 Optional 值转换为通用占位符类型时，编译器在展开值时会更加保守。这种转换结果现在更接近于非通用上下文中获得的结果。(SR-4248) (47326318)</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-func"><span class="hljs-keyword" style="font-weight: bold;">func</span> <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">forceCast</span><span class="hljs-generics">&lt;U&gt;</span><span class="hljs-params">(<span class="hljs-number" style="color: rgb(0, 128, 128);">_</span> value: Any?, to type: U.<span class="hljs-keyword" style="font-weight: bold;">Type</span>)</span> -&gt; <span class="hljs-title" style="color: rgb(153, 0, 0);font-weight: bold;">U</span> </span>{<br  />      <span class="hljs-keyword" style="font-weight: bold;">return</span> value <span class="hljs-keyword" style="font-weight: bold;">as</span>! <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">U</span> <br  />  } <br  /><br  />  <span class="hljs-keyword" style="font-weight: bold;">let</span> value: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Any</span>? = <span class="hljs-number" style="color: rgb(0, 128, 128);">42</span><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(forceCast(value, to: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Any</span>.<span class="hljs-keyword" style="font-weight: bold;">self</span>))<br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Prints "Optional(42)"</span><br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// (Prior to Swift 5, this would print "42".)</span><br  /><br  />  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">print</span>(value <span class="hljs-keyword" style="font-weight: bold;">as</span>! <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Any</span>)<br  />  <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Prints "Optional(42)"</span><br  /></code></pre></li><li><p>协议现在可以将符合类型限定为给定类的子类。支持两种等效形式：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;">  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">protocol</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyView</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">UIView</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/*...*/</span> }<br  />  <span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">protocol</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">MyView</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">where</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Self</span>: <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">UIView</span> </span>{ <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">/*...*/</span> }<br  /></code></pre><p>Swift 4.2 接受了第二种形式，但还没有完全实现，在编译时或运行时偶尔会发生崩溃。(SR-5581) (38077232)</p></li><li><p>Swift 4.2 接受了第二种形式，但还没有完全实现，在编译时或运行时偶尔会发生崩溃。</p></li><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p>在 Swift 5 模式下，当在自己的 didSet 或 willSet observer 中设置属性时，observer 现在只在 self 上设置属性（不管是隐式的还是显式的）时才会避免被递归调用。(SR-419) (32334826)</p><p>例如：</p><pre><code class="hljs language-swift" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-family: Consolas, Inconsolata, Courier, monospace;overflow-wrap: break-word;border-radius: 4px;display: block;overflow-x: auto;background: rgb(248, 248, 248);text-size-adjust: none;"><span class="hljs-class"><span class="hljs-keyword" style="font-weight: bold;">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);font-weight: bold;">Node</span> </span>{<br  />    <span class="hljs-keyword" style="font-weight: bold;">var</span> children = [<span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Node</span>]() <br  />    <span class="hljs-keyword" style="font-weight: bold;">var</span> depth: <span class="hljs-type" style="color: rgb(68, 85, 136);font-weight: bold;">Int</span> = <span class="hljs-number" style="color: rgb(0, 128, 128);">0</span> {<br  />        <span class="hljs-keyword" style="font-weight: bold;">didSet</span> { <br  />            <span class="hljs-keyword" style="font-weight: bold;">if</span> depth &lt; <span class="hljs-number" style="color: rgb(0, 128, 128);">0</span> {<br  />                <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Won’t recursively call didSet, because this is setting depth on self. </span><br  />                depth = <span class="hljs-number" style="color: rgb(0, 128, 128);">0</span><br  />            } <br  /><br  />            <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// Will call didSet for each of the children,</span><br  />            <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// as this isn’t setting the property on self.</span><br  />            <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// (Prior to Swift 5, this didn’t trigger property</span><br  />            <span class="hljs-comment" style="color: rgb(153, 153, 136);font-style: italic;">// observers to be called again.)</span><br  />            <span class="hljs-keyword" style="font-weight: bold;">for</span> child <span class="hljs-keyword" style="font-weight: bold;">in</span> children { <br  />                child.depth = depth + <span class="hljs-number" style="color: rgb(0, 128, 128);">1</span><br  />            } <br  />        }<br  />    }<br  />}<br  /></code></pre></li></ul><li><p>如果你使用 #sourceLocation 将生成文件中的行映射回源代码，那么诊断信息将显示在源文件中而不是生成文件中。(43647151)</p></li><li><p>使用泛型类型别名作为 @objc 方法的参数或返回类型不会再生成无效的 Objective-C 标头。(SR-8697) (43347303)</p></li></ul><p><br  /></p><h2 style="font-size: 28px;white-space: normal;line-height: 1.2;color: rgb(255, 102, 51);text-align: center;margin: 1em 1em 0.5em !important;padding: 0.2em 0em !important;border-bottom: 1px solid rgb(238, 238, 238) !important;">关注我们</h2><p style="white-space: normal;">我们开通了公众号，每期发布时公众号（OldDriverWeekly）会推送消息，欢迎关注。</p><p style="white-space: normal;"><img class="" data-copyright="0" data-cropselx1="0" data-cropselx2="258" data-cropsely1="0" data-cropsely2="258" data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/N2Dic2hzH38xIklGpicJt1aicB4ak02zNK5YF8yu6bBW7H17Vr3yOYXkpaIwkmfibhFNic1GgQaKsYK6fNgIWsVwRqg/640?wx_fmt=jpeg" data-w="258" data-type="jpeg" style="margin-right: auto;margin-left: auto;height: 258px;display: block;width: 258px;"  /></p><p style="white-space: normal;">同时也支持了 RSS 订阅：https://github.com/SwiftOldDriver/iOS-Weekly/releases.atom 。</p><p><br  /></p>
                </div>
                <script nonce="923001970" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf("WindowsWechat") != -1){
                            var link = document.createElement('link');
                            var head = document.getElementsByTagName('head')[0];
                            link.rel = 'stylesheet';
                            link.type = 'text/css';
                            link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx435ee6.css";
                            head.appendChild(link);
                        }
                    })();
                </script>

                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name">SwiftOldDriver</div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                
                
                            </div>
                                    
                        


                        
            <ul id="js_hotspot_area" class="article_extend_area"></ul>


            

            


<div class="rich_media_tool" id="js_toobar3">

        <a class="media_tool_meta meta_primary" id="js_view_source" href="##">阅读原文</a>
        <div id="js_read_area3" class="media_tool_meta tips_global_primary meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

    <span style="display:none;" class="media_tool_meta meta_extra meta_praise" id="like_old">
        <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum_old"></span>
    </span>

    <span style="display:none;" class="media_tool_meta meta_extra meta_like" id="like3">
        <button class="like_btn" id="js_like_btn"> 
          <span id="js_like_wording"> 在看</span><span class="like_num" id="likeNum3"></span>
        </button>
    </span>

    <div id="js_like_educate" style="display:none">
        <div class="weui-mask"></div>
        <div class="weui-dialog weui-dialog_haokan">
        <div class="weui-dialog__hd"><strong class="weui-dialog__title" id="educate_title">已同步到看一看</strong></div>
        <div class="weui-dialog__bd">
          <img class="pic_haokan" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png">
            你的朋友会在“发现-看一看”看到你点击“在看”的内容        </div>
        <div class="weui-dialog__ft" id="educate_btn" style="display: none">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_default" id="js_cancel">取消</a>
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_confirm">发送</a>
        </div>
        <div class="weui-dialog__ft" id="educate_btn2" style="display: none">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_acknowledge">我知道了</a>
        </div>
        </div>
    </div>

    <div id="js_unlike_educate" style="display:none">
        <div class="weui-mask"></div>
        <div class="weui-dialog">
        
        <div class="weui-dialog__bd">
            已取消，想法已同步删除        </div>
        <div class="weui-dialog__ft">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_unlike_know">知道了</a>
        </div>
        </div>
    </div>

    
    </div>


<div class="like_comment_wrp" id="js_a_like_comment" style="display: none;">
  <div class="like_comment_inner">
    <div class="like_comment_hd" style="display:none" id="js_like_title"></div>
    <div class="like_comment_bd">
      <div class="tips_global_primary like_comment_tips">
        <i class="weui-icon-success"></i>已同步到看一看<a href="javascript:;" class="like_comment_share_link" id="js_a_like_comment_share">写下你的想法</a>
      </div>
    </div>
    <div class="like_comment_ft">
      <span id="js_a_like_comment_msg" class="like_comment_msg" style="visibility:hidden">最多200字，当前共<span id="js_a_like_current_cnt"></span>字</span>
      <button class="like_comment_btn" disabled="disabled" id="js_a_like_confirm">发送</button>
    </div>
  </div>
</div>

<div id="js_like_toast" style="display: none;">
  <div class="weui-mask_transparent"></div>
  <div class="weui-toast">
    <i class="weui-icon-success-no-circle weui-icon_toast"></i>
    <p class="weui-toast__content" id="js_toast_msg">已发送</p>
  </div>
</div>


<div style="display: none;" id="js_b_comment_panel" class="like_comment_primary_pop">
  <div class="like_comment_primary_wrp" id="js_b_wrp">
    <div class="like_comment_primary_inner">
      <div class="like_comment_primary_hd">
        <h4 class="like_comment_primary_title">
          朋友将在看一看看到        </h4>
        <button id="js_b_like_confirm" class="like_comment_primary_btn">确定</button>
      </div>
      <div id='js_b_comment_text_first' class="like_comment_primary_bd">
        <span class="tips_global_primary">
          写下你的想法...        </span>
      </div>
    </div>
  </div>
  <div class="like_comment_primary_mask" id="js_mask_1"></div>
</div>

<div style="display: none;" id="js_b_comment_final">
  <div class="like_comment_primary_wrp editing" id="js_comment_wrp">
    <div class="like_comment_primary_inner">
      <div class="like_comment_primary_hd">
        <button class="like_comment_primary_cancel" id="js_b_comment_cancel">取消</button>
        <h4 class="like_comment_primary_title"> 发布到看一看 </h4>
        <button class="like_comment_primary_btn" id="js_b_comment_confirm">确定</button>
      </div>
      <div class="like_comment_primary_bd">
        <textarea class="like_comment_textarea weui-textarea" placeholder="写下你的想法..." id="js_b_comment_text_second"></textarea>
      </div>
      <span class="like_comment_msg" id="js_b_like_comment_msg" style="visibility: hidden;">最多200字，当前共<span id="js_b_like_current_cnt"></span>字</span>
    </div>
  </div>
  <div class="like_comment_primary_mask" id="js_mask_2"></div>
</div>

<div id="js_loading" style=" display: none;">
    <div class="weui-mask_transparent"></div>
    <div class="weui-toast">
        <i class="weui-loading weui-icon_toast"></i>
        <p class="weui-toast__content">发送中</p>
    </div>
</div>

<div id="js_fail" style="display:none">
    <div class="weui-mask"></div>
    <div class="weui-dialog">
    <div class="weui-dialog__bd">
        网络异常，请稍后重试    </div>
    <div class="weui-dialog__ft">
      <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_fail_inform">知道了</a>
    </div>
    </div>
</div>



                      </div>
        </div>

        <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none"></div>


        
        <div class="rich_media_area_extra">
          <div class="rich_media_area_extra_inner">
              
              <div id="js_share_appmsg">
              </div>

              
                            <div class="mpda_bottom_container" id="js_bottom_ad_area"></div>
                            
              <div id="js_iframetest" style="display:none;"></div>
                            
              <div class="rich_media_extra rich_media_extra_discuss" id="js_cmt_container" style="display:none">
                

                
                <div class="discuss_mod" id="js_friend_cmt_area" style="display:none">
                  
                  
                  
                </div>

                                <div class="discuss_mod" id="js_preview_cmt" style="display:none">
                  <div class="discuss_container">
                    <div class="mod_title_context">
                        <p class="discuss_icon_tips tc">
                            <a href="javascript:;" id="js_preview_cmt_write">留言</a>
                        </p>
                    </div>
                  </div>
                </div>
                              </div>
          </div>
        </div>

        
        <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display:none;">
            <div class="qr_code_pc_inner">
                <div class="qr_code_pc">
                    <img id="js_pc_qr_code_img" class="qr_code_pc_img">
                    <p>微信扫一扫<br>关注该公众号</p>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="js_pc_weapp_code" class="weui-desktop-popover weui-desktop-popover_pos-up-center weui-desktop-popover_img-text" style="display: none;">
    <div class="weui-desktop-popover__content">
        <div class="weui-desktop-popover__desc">
            <img id="js_pc_weapp_code_img">
            微信扫一扫<br>使用小程序<span id="js_pc_weapp_code_des"></span>        </div>
    </div>
</div>
<div id="js_minipro_dialog" style="display:none;">
    <div class="weui-mask"></div>
    <div class="weui-dialog">
        <div class="weui-dialog__bd">即将打开"<span id="js_minipro_dialog_name"></span>"小程序</div>
        <div class="weui-dialog__ft">
            <a id="js_minipro_dialog_cancel" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_default">取消</a>
            <a id="js_minipro_dialog_ok" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_primary">打开</a>
        </div>
    </div>
</div>

        
        <script nonce="923001970">
    var __DEBUGINFO = {
        debug_js : "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/debug/console42f400.js",
        safe_js : "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/moonsafe42f400.js",
        res_list: []
    };
</script>

<script nonce="923001970" type="text/javascript">
(function() {
	var totalCount = 0,
			finishCount = 0;

	function _loadVConsolePlugin() {
		window.vConsole = new window.VConsole();
		while (window.vConsolePlugins.length > 0) {
			var p = window.vConsolePlugins.shift();
			window.vConsole.addPlugin(p);
		}
	}
	
	function _addVConsole(uri, cb) {
		totalCount++;
		var node = document.createElement('SCRIPT');
		node.type = 'text/javascript';
		node.src = uri;
		node.setAttribute('nonce', '923001970');
		if (cb) {
			node.onload = cb;
		}
		document.getElementsByTagName('head')[0].appendChild(node);
	}
	if (
		(document.cookie && document.cookie.indexOf('vconsole_open=1') > -1)
		|| location.href.indexOf('vconsole=1') > -1
	) {
		window.vConsolePlugins = [];
		_addVConsole('//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.2.2/vconsole.min440203.js', function() {
			
			_addVConsole('//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/plugin/vconsole-mpopt/1.0.1/vconsole-mpopt42f400.js', _loadVConsolePlugin);
		});
	}
})();
</script>
        
<script nonce="923001970" type="text/javascript">
if (location.href.match(/fontScale=\d+/) && /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {

    var m=location.href.match(/fontScale=(\d*)/);
    var map={
        "94":1,
        "100":2,
        "109":3,
        "119":4,
        "131":5,
    }
    if(m&&m[1]&&map[m[1]]){
        document.getElementsByTagName("body")[0].className+=" appmsg_skin_fontscale_"+map[m[1]];
        console.log("appmsg_skin_fontscale_:"+map[m[1]]);
    }
}


(function(){
    if (window.__second_open__) return; 

    

    var first_js_time = +new Date();

    var showDate="";
    var svrDate=new Date("1554369858"*1000);
    var createDate=new Date("1553592966"*1000);
    var ct="1553592966"*1;
    var publish_time = "2019-03-26" || "";
    var cD={
      year:createDate.getYear(),
      month:createDate.getMonth()+1,
      date:createDate.getDate()
    };
    
    svrDate.setHours(0);
    svrDate.setMinutes(0);
    svrDate.setSeconds(0);
    var todayDate=svrDate.getTime()/1000;
    svrDate.setDate(1);
    svrDate.setMonth(0);
    var yearDate=svrDate.getTime()/1000;
    
    if(ct>=todayDate){
      showDate="今天";
    
    }else if(ct>=todayDate-60*60*24){
       showDate="昨天";
    
    }else if(ct>=todayDate-2*60*60*24){
      showDate="前天";
    }else if(ct>=todayDate-3*60*60*24){
      showDate="3天前";
    }else if(ct>=todayDate-4*60*60*24){
      showDate="4天前";
    }else if(ct>=todayDate-5*60*60*24){
      showDate="5天前";
    }else if(ct>=todayDate-6*60*60*24){
      showDate="6天前";
    }else if(ct>=todayDate-2*7*60*60*24){
      showDate="1周前";
    }else if(ct>=yearDate){
      
      
      
      showDate="%s月%s日".replace("%s",cD.month).replace("%s",cD.date);
    }else{
      showDate=publish_time;
    };
    if(document.getElementById("publish_time")){
      document.getElementById("publish_time").innerText=showDate;
    }
})();
</script>
<script nonce="923001970" type="text/javascript">

if (!window.console) window.console = { log: function() {} };

if (typeof getComputedStyle == 'undefined') {
    if (document.body.currentStyle) {
        window.getComputedStyle = function(el) {
            return el.currentStyle;
        }
    } else {
        window.getComputedStyle = {};
    }
}
(function(){
    window.__zoom = 1;
    
    (function(){
        var validArr = ","+([0.875, 1, 1.125, 1.25, 1.375]).join(",")+",";
        var match = window.location.href.match(/winzoom=(\d+(?:\.\d+)?)/);
        if (match && match[1]) {
            var winzoom = parseFloat(match[1]);
            if (validArr.indexOf(","+winzoom+",")>=0) {
                window.__zoom = winzoom;
            }
        }
    })();

    var ua = navigator.userAgent.toLowerCase();
    var re = new RegExp("msie ([0-9]+[\.0-9]*)");
    var version;
    if (re.exec(ua) != null) {
        version = parseInt(RegExp.$1);
    }
    var isIE = false;
    if (typeof version != 'undefined' && version >= 6 && version <= 9) {
        isIE = true;
    }
    var getMaxWith=function(){
        var container = document.getElementById('img-content');
        var max_width = container.offsetWidth;
        var container_padding = 0;
        var container_style = getComputedStyle(container);
        container_padding = parseFloat(container_style.paddingLeft) + parseFloat(container_style.paddingRight);
        max_width -= container_padding;
        if (!max_width) {
            max_width = window.innerWidth - 30;      
        }
        return max_width;
    };
    var getParentWidth = function(dom){
        var parent_width = 0;
        var parent = dom.parentNode;
        var outerWidth = 0;
        while (true) {
            if(!parent||parent.nodeType!=1) break;
            var parent_style = getComputedStyle(parent);
            if (!parent_style) break;
            parent_width = parent.clientWidth - parseFloat(parent_style.paddingLeft) - parseFloat(parent_style.paddingRight) - outerWidth;
            if (parent_width > 0) break;
            outerWidth += parseFloat(parent_style.paddingLeft) + parseFloat(parent_style.paddingRight) + parseFloat(parent_style.marginLeft) + parseFloat(parent_style.marginRight) + parseFloat(parent_style.borderLeftWidth) + parseFloat(parent_style.borderRightWidth);
            parent = parent.parentNode;
        }
        return parent_width;
    }
    var getOuterW=function(dom){
        var style=getComputedStyle(dom),
            w=0;
        if(!!style){
            w = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);
        }
        return w;
    };
    var getOuterH =function(dom){
        var style=getComputedStyle(dom),
            h=0;
        if(!!style){
            h = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);
        }
        return h;
    };
    var insertAfter = function(dom,afterDom){
        var _p = afterDom.parentNode;
        if(!_p){
            return;
        }
        if(_p.lastChild === afterDom){
            _p.appendChild(dom);
        }else{
            _p.insertBefore(dom,afterDom.nextSibling);
        }
    };
    var getQuery = function(name,url){
        
        var u  = arguments[1] || window.location.search,
            reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)"),
            r = u.substr(u.indexOf("\?")+1).match(reg);
        return r!=null?r[2]:"";
    };

    
    function setImgSize(item, widthNum, widthUnit, ratio, breakParentWidth) {
        setTimeout(function () {
            var img_padding_border = getOuterW(item) || 0;
            var img_padding_border_top_bottom = getOuterH(item) || 0;
            
            if (widthNum > getParentWidth(item) && !breakParentWidth) {
                widthNum = getParentWidth(item);
            }

            height = (widthNum - img_padding_border) * ratio + img_padding_border_top_bottom;

            if (isIE) {
                var url = item.getAttribute('data-src');
                item.src = url;
            } else {
                if(parseFloat(widthNum, 10) > 40 && height > 40 && breakParentWidth) {
                    item.className += ' img_loading';
                }
                item.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
            }
            item.style.cssText += ";width: " + widthNum + widthUnit + " !important;";
            item.style.cssText += ";height: " + height + widthUnit + " !important;";
        }, 10);
    }

    (function(){
        var images = document.getElementsByTagName('img');
        var length = images.length;
        var max_width = getMaxWith();
        for (var i = 0; i < length; ++i) {
            if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
                continue;
            }
            var imageItem = images[i];
            var src_ = imageItem.getAttribute('data-src');
            var realSrc = imageItem.getAttribute('src');
            if (!src_ || realSrc) continue;
            
            var originWidth = imageItem.getAttribute('data-w');
            var ratio_ = 1 * imageItem.getAttribute('data-ratio');

            var height = 100;
            if (ratio_ && ratio_ > 0) {
                var parent_width = getParentWidth(imageItem) || max_width;
                var initWidth = imageItem.style.width || imageItem.getAttribute('width') || originWidth || parent_width;
                initWidth = parseFloat(initWidth, 10) > max_width ? max_width : initWidth;
                
                if (initWidth) {
                    imageItem.setAttribute('_width', !isNaN(initWidth * 1) ? initWidth + 'px' : initWidth);
                }
                
                if (typeof initWidth === 'string' && initWidth.indexOf('%') !== -1) {
                    initWidth = parseFloat(initWidth.replace('%', ''), 10) / 100 * parent_width;
                }
                
                if (initWidth === 'auto') {
                    initWidth = originWidth;
                }

                var res = /^(\d+(?:\.\d+)?)([a-zA-Z%]+)?$/.exec(initWidth);
                var widthNum = res && res.length >= 2 ? res[1] : 0;
                var widthUnit = res && res.length >= 3 && res[2] ? res[2] : 'px';

                
                setImgSize(imageItem, widthNum, widthUnit, ratio_, true);
                
                (function (item, widthNumber, unit, ratio) {
                    setTimeout(function () {
                        setImgSize(item, widthNumber, unit, ratio, false);
                    });
                })(imageItem, widthNum, widthUnit, ratio_);
            } else {
                imageItem.style.cssText += ";visibility: hidden !important;";
            }

        }
    })();
    window.__videoDefaultRatio=16/9;
    window.__getVideoWh = function(dom){
        var max_width = getMaxWith(),
            width = max_width,
            ratio_ = dom.getAttribute('data-ratio')*1,
            arr = [4/3, 16/9],
            ret = arr[0],
            abs = Math.abs(ret - ratio_);
        if (!ratio_) { 
            if (dom.getAttribute("data-mpvid")) { 
                ratio_ = 16/9;
            } else { 
                ratio_ = 4/3;
            }
        } else { 
            for (var j = 1, jl = arr.length; j < jl; j++) {
                var _abs = Math.abs(arr[j] - ratio_);
                if (_abs < abs) {
                    abs = _abs;
                    ret = arr[j];
                }
            }
            ratio_ = ret;
        }

        var parent_width = getParentWidth(dom)||max_width,
            width = width > parent_width ? parent_width : width,
            outerW = getOuterW(dom)||0,
            outerH = getOuterH(dom)||0,
            videoW = width - outerW,
            videoH = videoW/ratio_,
            height = videoH + outerH;
        return {w:Math.ceil(width),h:Math.ceil(height),vh:videoH,vw:videoW,ratio:ratio_};
    };


    (function(){
        var iframe = document.getElementsByTagName('iframe');
        for (var i=0,il=iframe.length;i<il;i++) {
            if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
                continue;
            }
            var a = iframe[i];
            var src_ = a.getAttribute('src')||a.getAttribute('data-src')||"";
            if(!/^http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)
                && !/^http(s)*\:\/\/mp\.weixin\.qq\.com\/mp\/readtemplate\?t=pages\/video_player_tmpl/.test(src_)
            ){
                continue;
            }
            var vid = getQuery("vid",src_);
            if(!vid){
                continue;
            }
            vid=vid.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");
            a.removeAttribute('src');
            a.style.display = "none";
            var obj = window.__getVideoWh(a),
                videoPlaceHolderSpan = document.createElement('span'),
                videoPlayerIconSpan = document.createElement('span'),
                mydiv = document.createElement('img');

            videoPlaceHolderSpan.className = "js_img_loading db";
            videoPlaceHolderSpan.setAttribute("data-vid", vid);
            

            videoPlayerIconSpan.className = 'wx_video_context db'; 
            videoPlayerIconSpan.style.display = 'none';
            videoPlayerIconSpan.innerHTML = '<span class="wx_video_thumb_primary"></span><button class="wx_video_play_btn">播放</button><span class="wx_video_mask"></span>'; 

            mydiv.className = "img_loading";

            mydiv.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
            
            
            videoPlaceHolderSpan.style.cssText = "width: " + obj.w + "px !important;";
            mydiv.style.cssText += ";width: " + obj.w + "px";
            videoPlaceHolderSpan.appendChild(videoPlayerIconSpan);
            videoPlaceHolderSpan.appendChild(mydiv);
            insertAfter(videoPlaceHolderSpan, a); 

            a.style.cssText += ";width: " + obj.w + "px !important;";
            a.setAttribute("width",obj.w);
            if(window.__zoom!=1){
                a.style.display = "block";
                videoPlaceHolderSpan.style.display = "none";
                a.setAttribute("_ratio",obj.ratio);
                a.setAttribute("_vid",vid);
            }else{
                videoPlaceHolderSpan.style.cssText += "height: " + obj.h + "px !important;";
                mydiv.style.cssText += "height: " + obj.h + "px !important;";
                a.style.cssText += "height: " + obj.h + "px !important;";
                a.setAttribute("height",obj.h);
            }
            a.setAttribute("data-vh",obj.vh);
            a.setAttribute("data-vw",obj.vw);
            if(a.getAttribute("data-mpvid")){
                a.setAttribute("data-src",location.protocol+"//mp.weixin.qq.com/mp/readtemplate?t=pages/video_player_tmpl&auto=0&vid="+vid);
            }else{
                a.setAttribute("data-src",location.protocol+"//v.qq.com/iframe/player.html?vid="+ vid + "&width="+obj.vw+"&height="+obj.vh+"&auto=0");
            }
        }
    })();

    (function(){
        if(window.__zoom!=1){
            if (!window.__second_open__) {
                document.getElementById('page-content').style.zoom = window.__zoom;
                var a = document.getElementById('activity-name');
                var b = document.getElementById('meta_content');
                if(!!a){
                    a.style.zoom = 1/window.__zoom;
                }
                if(!!b){
                    b.style.zoom = 1/window.__zoom;
                }
            }
            var images = document.getElementsByTagName('img');
            for (var i = 0,il=images.length;i<il;i++) {
                if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
                    continue;
                }
                images[i].style.zoom = 1/window.__zoom;
            }
            var iframe = document.getElementsByTagName('iframe');
            for (var i = 0,il=iframe.length;i<il;i++) {
                if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
                    continue;
                }
                var a = iframe[i];
                a.style.zoom = 1/window.__zoom;
                var src_ = a.getAttribute('data-src')||"";
                if(!/http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)){
                    continue;
                }
                var ratio = a.getAttribute("_ratio");
                var vid = a.getAttribute("_vid");
                a.removeAttribute("_ratio");
                a.removeAttribute("_vid");
                var vw = a.offsetWidth - (getOuterW(a)||0);
                var vh = vw/ratio;
                var h = vh + (getOuterH(a)||0)
                a.style.cssText += "height: " + h + "px !important;"
                a.setAttribute("height",h);
                a.setAttribute("data-src",location.protocol+"//v.qq.com/iframe/player.html?vid="+ vid + "&width="+vw+"&height="+vh+"&auto=0");
                a.style.display = "none";
                var parent = a.parentNode;
                if(!parent){
                    continue;
                }
                for(var j=0,jl=parent.children.length;j<jl;j++){
                    var child = parent.children[j];
                    if(child.className.indexOf("img_loading")>=0 && child.getAttribute("data-vid")==vid){
                        child.style.cssText += "height: " + h + "px !important;";
                        child.style.display = "";
                    }
                }
            }
        }
    })();
})();
</script>
<script nonce="923001970" type="text/javascript">
    var new_appmsg = 1;
    var item_show_type = "0";
    var can_see_complaint = "0";
    var not_in_mm_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/not_in_mm435ee6.css";
    var windowwx_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx435ee6.css";
    var article_improve_combo_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/combo44c130.css";
    var tid = "";
    var aid = "";
    var clientversion = "";
    var appuin = ""||"MzUyNTczNzI2MA==";

    var source = "";
    var ascene = "";
    var subscene = "";
    var sessionid = ""||"svr_3d12d08a6ba";
    var abtest_cookie = "";

    var scene = 75;

    var itemidx = "";
    var appmsg_token   = "";
    var _copyright_stat = "1";
    var _ori_article_type = "科技互联网";

    var is_follow = "";
    var nickname = "OldDriverWeekly";
    var appmsg_type = "9";
    var ct = "1553592966";
    var publish_time = "2019-03-26" || "";
    var user_name = "gh_f6ef600a5f96";
    var user_name_new = "";
    var fakeid   = "";
    var version   = "";
    var is_limit_user   = "0";
    var round_head_img = "http://mmbiz.qpic.cn/mmbiz_png/N2Dic2hzH38yrW9q6HraK4VL7HdibLTKBwYaIaZD6E6hl1ugqvMMC9huJNuWoW3bcvGfb1CLddibXGoztfhJafUiag/0?wx_fmt=png";
    var hd_head_img = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4e2uOaCwWhNmhePZWZdic5VBceCumPhibOTichWZx9E0MPQ/0"||"";
    var ori_head_img_url = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4e2uOaCwWhNmhePZWZdic5VBceCumPhibOTichWZx9E0MPQ/132";
    var msg_title = "Swift 5 终于来了，快来看看有什么更新！！";
    var msg_desc = "哼 ╭(╯^╰)╮，Apple 爸爸悄咪咪地就发布了 Swift 5，预告都不来一波。我们周报编辑团队的 @Tom 组织 @老老老老老老老驴，@小非86，@邦ben 和 @极速男孩 为大家做了第一手的翻译工作~";
    var msg_cdn_url = "http://mmbiz.qpic.cn/mmbiz_jpg/N2Dic2hzH38wB6h5jEry5b7icMDwQKFjdWjtVVlytCrCiaS6FDNeSRdctr4hBmxESCwicdf0r83JQvp5jvuDicpdIEQ/0?wx_fmt=jpeg"; 
    var cdn_url_1_1  = "https://mmbiz.qlogo.cn/mmbiz_jpg/N2Dic2hzH38wB6h5jEry5b7icMDwQKFjdWETSibpfspgaGHsw13HianPbkrUrcGguk9bAnWxiabgaOBVFJSPTsjSWOA/0?wx_fmt=jpeg"; 
    var cdn_url_235_1 = "https://mmbiz.qlogo.cn/mmbiz_jpg/N2Dic2hzH38wB6h5jEry5b7icMDwQKFjdWjtVVlytCrCiaS6FDNeSRdctr4hBmxESCwicdf0r83JQvp5jvuDicpdIEQ/0?wx_fmt=jpeg"; 
    
    var msg_link = "http://mp.weixin.qq.com/s?__biz=MzUyNTczNzI2MA==&amp;mid=2247483965&amp;idx=1&amp;sn=7d3b1d901ce7c4faf50f1cd369d5fc80&amp;chksm=fa18ce7ecd6f4768e3154b4094a63a558821b19ce5f7398c1307cd7c03373913d2641d82e851#rd"; 
    var user_uin = "0"*1;
    var msg_source_url = 'https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/Posts/Swift5%20%E6%9B%B4%E6%96%B0%E7%AC%94%E8%AE%B0.md';
    var img_format = 'jpeg';
    var srcid = '';
    var req_id = '0417ZGX4dKoukavzAL1ewU3s';
    var networkType;
    var appmsgid = '' || ''|| "2247483965";
    var comment_id = "0" || "0" * 1;
    var comment_enabled = "" * 1;
    var is_need_reward = "0" * 1;
    var is_https_res = ("" * 1) && (location.protocol == "https:");
    var msg_daily_idx = "1" || "";
    var profileReportInfo = "" || "";

    var devicetype = "";
    var source_encode_biz = "";
    var source_username = "";
    
    var reprint_ticket = "";
    var source_mid = "";
    var source_idx = "";
    var source_biz = "";
    var author_id = "";

    
    var optimizing_flag = "0" * 1;
    var ad_abtest_padding = "0" * 1;

    var show_comment = "";
    var __appmsgCgiData = {
        wxa_product : ""*1,
        wxa_cps : ""*1,
        show_msg_voice: "0"*1,
        can_use_page : "0"*1,
        is_wxg_stuff_uin : "0"*1,
        card_pos : "",
        copyright_stat : "1",
        source_biz : "",
        hd_head_img : "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4e2uOaCwWhNmhePZWZdic5VBceCumPhibOTichWZx9E0MPQ/0"||(window.location.protocol+"//"+window.location.host + "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_rumor_link.2x42f400.jpg")
    };
    var _empty_v = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/pages/voice/empty42f400.mp3";

    var copyright_stat = "1" * 1;

    var pay_fee = "" * 1;
    var pay_timestamp = "";
    var need_pay = "" * 1;

    var need_report_cost = "0" * 1;
    var use_tx_video_player = "0" * 1;
    var appmsg_fe_filter = "contenteditable";

    var friend_read_source = "" || "";
    var friend_read_version = "" || "";
    var friend_read_class_id = "" || "";

    var is_only_read = "1" * 1;
    var read_num = "" * 1;
    var like_num = "" * 1;
    var liked = "" == 'true' ? true : false;
    var is_temp_url = "" ? 1 : 0;
    var send_time = "";
    var icon_emotion_switch = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch.2x42f400.png";
    var icon_emotion_switch_active = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch_active.2x42f400.png";
    var icon_loading_white = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white42f400.gif";
    var icon_audio_unread = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/audio/icon_audio_unread42f400.png";
    var icon_qqmusic_default = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_default.2x42f400.png";
    var icon_qqmusic_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_source42f400.png";
    var icon_kugou_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/kugou/icon_kugou_source42f400.png";

    var topic_default_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/topic/pic_book_thumb.2x42f400.png';
    var comment_edit_icon = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg_new/icon_edit42f400.png';
    var comment_loading_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white42f400.gif';

    var voice_in_appmsg = {
        "1":"1"
            };

    var reprint_style = ''*1;
    var wxa_img_alert = "" != 'false';

    
    var more_read_type = '0'*1;

    
    
    
    

    
    var weapp_sn_arr_json = "" || "";

    
    var ban_scene = "0" * 1;

    var svr_time = "1554369858" * 1;
    
    var is_transfer_msg = ""*1||0;

    var malicious_title_reason_id = "0" * 1; 
    var malicious_content_type = "0" * 1; 

    
    var modify_time = "";

    
    var isprofileblock = "0";

    
    var hotspotInfoList = [
                    ];

        window.wxtoken = "777";
        
    
    
    
    
    window.is_login = '0' * 1; 

    window.__moon_initcallback = function(){
        if(!!window.__initCatch){
            window.__initCatch({
                idkey : 27611+2,
                startKey : 0,
                limit : 128,
                badjsId: 43,
                reportOpt : {
                    uin : uin,
                    biz : biz,
                    mid : mid,
                    idx : idx,
                    sn  : sn
                },
                extInfo : {
                    network_rate : 0.01,    
                    badjs_rate: 0.1 
                }
            });
        }
    }
        
    var title ="OldDriverWeekly";

    var is_new_msg=true;
    
    

    var is_wash = '' * 1;
</script>

<script nonce="923001970" type="text/javascript">
(function(_g){
    _g.appmsg_like_type = "2" * 1 ? "2" * 1 : 1;
    
    _g.clientversion = "";
    _g.passparam = ""; 
    if(!_g.msg_link) {
      _g.msg_link = "http://mp.weixin.qq.com/s?__biz=MzUyNTczNzI2MA==&amp;mid=2247483965&amp;idx=1&amp;sn=7d3b1d901ce7c4faf50f1cd369d5fc80&amp;chksm=fa18ce7ecd6f4768e3154b4094a63a558821b19ce5f7398c1307cd7c03373913d2641d82e851#rd";
    }
    _g.appmsg_type = "9"; 
    _g.devicetype = ""; 
})(window);

</script>


        <script nonce="923001970">window.__moon_host = 'res.wx.qq.com';window.__moon_mainjs = 'appmsg/index.js';window.moon_map = {"pages/iframe_communicate.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/iframe_communicate42f400.js","new_video/player.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/player.html433882.js","biz_wap/zepto/touch.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/touch42f400.js","biz_wap/zepto/event.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/event42f400.js","biz_wap/zepto/zepto.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/zepto440203.js","page/pages/video.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/pages/video.css435ee6.js","a/tpl/smallbanner_msg_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/smallbanner_msg_tpl.html42f400.js","a/tpl/smallbanner_info_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/smallbanner_info_tpl.html44c2e3.js","a/tpl/banner_info_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/banner_info_tpl.html42f400.js","a/tpl/promote_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/promote_tpl.html42f400.js","a/tpl/smallcard_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/smallcard_tpl.html42f400.js","a/tpl/info_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/info_tpl.html42f400.js","a/tpl/cardticket_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/cardticket_tpl.html42f400.js","a/tpl/banner_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/banner_tpl.html44c2e3.js","a/tpl/sponsor_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/sponsor_tpl.html42f400.js","a/tpl/new_cpc_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/new_cpc_tpl.html44c2e3.js","appmsg/emotion/caret.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/caret42f400.js","pages/audition_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/audition_tpl.html44ccb4.js","biz_wap/utils/localstorage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/localstorage42f400.js","appmsg/friend_comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/friend_comment_tpl.html42f400.js","appmsg/comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_tpl.html42f400.js","biz_wap/utils/fakehash.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/fakehash42f400.js","appmsg/comment_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_report42f400.js","a/appdialog_confirm.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/appdialog_confirm.html42f400.js","widget/wx_profile_dialog_primary.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/widget/wx_profile_dialog_primary.css42f400.js","new_video/player.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/player44cddd.js","a/tpl/mpda_bottom_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/mpda_bottom_tpl.html42f400.js","a/tpl/crt_size_map.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/crt_size_map42f400.js","biz_wap/jsapi/cardticket.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/cardticket42f400.js","biz_common/jquery.md5.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/jquery.md542f400.js","biz_common/utils/emoji_panel_data.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/emoji_panel_data42f400.js","biz_common/utils/emoji_data.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/emoji_data42f400.js","appmsg/emotion/textarea.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/textarea42f400.js","appmsg/emotion/nav.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/nav42f400.js","appmsg/emotion/common.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/common42f400.js","appmsg/emotion/slide.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/slide42f400.js","appmsg/emotion/dom.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/dom42f400.js","pages/player_tips.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/player_tips44ccb4.js","pages/music_report_conf.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/music_report_conf42f400.js","pages/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/report4306fd.js","pages/player_adaptor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/player_adaptor42f400.js","pages/music_player.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/music_player42f400.js","appmsg/more_read_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/more_read_tpl.html42f400.js","appmsg/retry_ajax.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/retry_ajax42f400.js","complain/tips.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/complain/tips42f400.js","pages/loadscript.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/loadscript42f400.js","biz_wap/utils/ajax_load_js.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax_load_js42f400.js","appmsg/comment.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment445789.js","a/ios.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/ios42f400.js","a/android.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/android42f400.js","a/profile.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/profile42f400.js","a/app_card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/app_card44c2e3.js","a/sponsor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/sponsor42f400.js","a/tpl/cpc_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/cpc_tpl.html42f400.js","a/appdialog_confirm.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/appdialog_confirm44c2e3.js","biz_common/dom/offset.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/offset4402ec.js","a/video.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/video42f400.js","a/tpl/crt_tpl_manager.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/crt_tpl_manager42f400.js","a/cpc_a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/cpc_a_tpl.html42f400.js","a/sponsor_a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/sponsor_a_tpl.html42f400.js","a/a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_tpl.html42f400.js","a/mpshop.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/mpshop42f400.js","a/wxopen_card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/wxopen_card42f400.js","a/card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/card42f400.js","biz_wap/utils/position.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/position42f400.js","a/a_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_report4402ec.js","biz_wap/utils/show_time.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/show_time445789.js","biz_common/utils/get_para_list.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/get_para_list42f400.js","biz_wap/utils/openUrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/openUrl4402ec.js","a/a_sign.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_sign438181.js","appmsg/my_comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/my_comment_tpl.html42f400.js","appmsg/cmt_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cmt_tpl.html42f400.js","sougou/a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/sougou/a_tpl.html42f400.js","appmsg/emotion/emotion.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/emotion42f400.js","biz_common/base64.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/base6442f400.js","biz_common/utils/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/report42f400.js","appmsg/articleReport.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/articleReport42f400.js","biz_wap/utils/hand_up_state.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/hand_up_state42f400.js","biz_common/utils/http.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/http42f400.js","biz_common/utils/cookie.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/cookie42f400.js","appmsg/topic_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/topic_tpl.html42f400.js","pages/weapp_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/weapp_tpl.html42f400.js","biz_common/utils/monitor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/monitor42f400.js","pages/voice_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/voice_tpl.html42f400.js","pages/kugoumusic_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/kugoumusic_ctrl42f400.js","pages/qqmusic_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/qqmusic_ctrl44df7a.js","pages/voice_component.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/voice_component44df7a.js","pages/qqmusic_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/qqmusic_tpl.html42f400.js","new_video/ctl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/ctl444d40.js","appmsg/open_url_with_webview.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/open_url_with_webview440203.js","appmsg/more_read.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/more_read42f400.js","appmsg/reward_entry.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/reward_entry42f400.js","appmsg/like.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/like44c2e3.js","pages/version4video.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/version4video42f400.js","biz_wap/utils/storage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/storage42f400.js","appmsg/share_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share_tpl.html42f400.js","appmsg/appmsgext.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/appmsgext430b95.js","appmsg/img_copyright_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/img_copyright_tpl.html42f400.js","pages/video_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/video_ctrl42f400.js","pages/create_txv.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/create_txv42f400.js","appmsg/comment_utils.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_utils42f400.js","biz_common/ui/imgonepx.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/ui/imgonepx42f400.js","appmsg/malicious_wording.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/malicious_wording42f400.js","biz_common/utils/wxgspeedsdk.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/wxgspeedsdk42f400.js","a/a_config.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_config44c130.js","a/a_utils.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_utils44ef28.js","a/a.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a44e928.js","rt/appmsg/getappmsgext.rt.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/rt/appmsg/getappmsgext.rt42f400.js","pages/video_communicate_adaptor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/video_communicate_adaptor433882.js","biz_wap/utils/ajax_wx.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax_wx42f400.js","biz_common/utils/respTypes.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/respTypes42f400.js","biz_wap/utils/log.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/log42f400.js","sougou/index.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/sougou/index42f400.js","biz_wap/safe/mutation_observer_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/mutation_observer_report42f400.js","appmsg/fereport.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/fereport438bee.js","appmsg/fereport_without_localstorage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/fereport_without_localstorage438bee.js","appmsg/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report42f400.js","appmsg/report_and_source.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report_and_source4380a9.js","appmsg/page_pos.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/page_pos44c130.js","appmsg/cdn_speed_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_speed_report42f400.js","appmsg/wxtopic.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/wxtopic42f400.js","appmsg/weapp.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weapp433882.js","appmsg/weproduct.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weproduct42f400.js","appmsg/voicemsg.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/voicemsg42f400.js","appmsg/autoread.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/autoread42f400.js","appmsg/voice.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/voice42f400.js","appmsg/qqmusic.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/qqmusic43440b.js","appmsg/iframe.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/iframe433882.js","appmsg/product.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/product42f400.js","appmsg/review_image.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/review_image435a90.js","appmsg/outer_link.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/outer_link44c2e3.js","appmsg/copyright_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/copyright_report42f400.js","appmsg/async.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/async44ef28.js","biz_wap/ui/lazyload_img.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/ui/lazyload_img42f400.js","biz_common/log/jserr.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/log/jserr42f400.js","appmsg/share.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share42f50a.js","appmsg/cdn_img_lib.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_img_lib42f400.js","appmsg/finance_communicate.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/finance_communicate440906.js","page/appmsg_new/not_in_mm.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/not_in_mm.css435ee6.js","page/appmsg_new/combo.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/combo.css44c130.js","biz_wap/utils/wapsdk.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/wapsdk44c130.js","a/mpAdAsync.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/mpAdAsync44dfba.js","biz_common/utils/url/parse.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/url/parse440451.js","appmsg/appmsg_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/appmsg_report435ac2.js","biz_common/moment.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/moment42f400.js","biz_wap/jsapi/core.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/core42f400.js","biz_common/dom/event.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/event445789.js","appmsg/test.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/test42f400.js","biz_wap/utils/mmversion.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/mmversion42f400.js","appmsg/max_age.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/max_age42f400.js","biz_common/dom/attr.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/attr42f400.js","biz_wap/utils/ajax.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax42f400.js","appmsg/log.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/log42f400.js","biz_common/dom/class.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/class42f400.js","biz_wap/utils/device.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/device42f400.js","appmsg/weapp_common.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weapp_common42f400.js","biz_common/utils/string/html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/string/html42f400.js","cps/tpl/list_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/list_tpl.html42f400.js","cps/tpl/card_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/card_tpl.html42f400.js","cps/tpl/banner_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/banner_tpl.html42f400.js","biz_common/tmpl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/tmpl42f400.js","appmsg/index.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/index44c130.js"};</script><script nonce="923001970" type="text/javascript" id="moon_inline" > window.__mooninline=1; window.setTimeout(function() {  function __moonf__(){
if(!window.__moonhasinit){
window.__moonhasinit=!0,window.__moonclientlog=[],window.__wxgspeeds&&(window.__wxgspeeds.moonloadedtime=+new Date),
"object"!=typeof JSON&&(window.JSON={
stringify:function(){
return"";
},
parse:function(){
return{};
}
});
var e=function(){
function e(e){
try{
var o;
/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?o="writeLog":/(Android)/i.test(navigator.userAgent)&&(o="log"),
o&&t(o,e);
}catch(n){
throw console.error(n),n;
}
}
function t(e,o){
var n,r,i={};
n=top!=window?top.window:window;
try{
r=n.WeixinJSBridge,i=n.document;
}catch(a){}
e&&r&&r.invoke?r.invoke(e,{
level:"info",
msg:"[WechatFe][moon]"+o
}):setTimeout(function(){
i.addEventListener?i.addEventListener("WeixinJSBridgeReady",function(){
t(e,o);
},!1):i.attachEvent&&(i.attachEvent("WeixinJSBridgeReady",function(){
t(e,o);
}),i.attachEvent("onWeixinJSBridgeReady",function(){
t(e,o);
}));
},0);
}
var n;
localStorage&&JSON.parse(localStorage.getItem("__WXLS__moonarg"))&&"fromls"==JSON.parse(localStorage.getItem("__WXLS__moonarg")).method&&(n=!0),
e(" moon init, moon_inline:"+window.__mooninline+", moonls:"+n),function(){
var e={},o={},t={};
e.COMBO_UNLOAD=0,e.COMBO_LOADING=1,e.COMBO_LOADED=2;
var n=function(e,t,n){
if(!o[e]){
o[e]=n;
for(var r=3;r--;)try{
moon.setItem(moon.prefix+e,n.toString()),moon.setItem(moon.prefix+e+"_ver",moon_map[e]);
break;
}catch(i){
moon.clear();
}
}
},r=window.alert;
window.__alertList=[],window.alert=function(e){
r(e),window.__alertList.push(e);
};
var i=function(e){
if(!e||!o[e])return null;
var n=o[e];
if("function"==typeof n&&!t[e]){
var a={},s={
exports:a
},c=n(i,a,s,r);
n=o[e]=c||s.exports,t[e]=!0;
}
if(".css"===e.substr(-4)){
var d=document.getElementById(e);
if(!d){
d=document.createElement("style"),d.id=e;
var _=/url\s*\(\s*\/(\"(?:[^\\\"\r\n\f]|\\[\s\S])*\"|'(?:[^\\'\n\r\f]|\\[\s\S])*'|[^)}]+)\s*\)/g,m=window.testenv_reshost||window.__moon_host||"res.wx.qq.com";
n=n.replace(_,"url(//"+m+"/$1)"),d.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(d);
}
}
return n;
};
e.combo_status=e.COMBO_UNLOAD,e.run=function(){
var o=e.run.info,t=o&&o[0],n=o&&o[1];
if(t&&e.combo_status==e.COMBO_LOADED){
var r=i(t);
n&&n(r);
}
},e.use=function(o,t){
window.__wxgspeeds&&(window.__wxgspeeds.seajs_use_time=+new Date),e.run.info=[o,t],
e.run();
},window.define=n,window.seajs=e;
}(),function(){
if(window.__nonce_str){
var e=document.createElement;
document.createElement=function(o){
var t=e.apply(this,arguments);
return"object"==typeof o&&(o=o.toString()),"string"==typeof o&&"script"==o.toLowerCase()&&t.setAttribute("nonce",window.__nonce_str),
t;
};
}
window.addEventListener&&window.__DEBUGINFO&&Math.random()<.01&&window.addEventListener("load",function(){
var e=document.createElement("script");
e.src=__DEBUGINFO.safe_js,e.type="text/javascript",e.async=!0;
var o=document.head||document.getElementsByTagName("head")[0];
o.appendChild(e);
});
}(),function(){
function t(e){
return"[object Array]"===Object.prototype.toString.call(e);
}
function n(e){
return"[object Object]"===Object.prototype.toString.call(e);
}
function r(e){
var t=e.stack+" "+e.toString()||"";
try{
if(window.testenv_reshost){
var n="http(s)?://"+window.testenv_reshost,r=new RegExp(n,"g");
t=t.replace(r,"");
}else t=t.replace(/http(s)?:\/\/res\.wx\.qq\.com/g,"");
for(var r=/\/([^.]+)\/js\/(\S+?)\.js(\,|:)?/g;r.test(t);)t=t.replace(r,function(e,o,t,n){
return t+n;
});
}catch(e){
t=e.stack?e.stack:"";
}
var i=[];
for(o in u)u.hasOwnProperty(o)&&i.push(o+":"+u[o]);
return i.push("STK:"+t.replace(/\n/g,"")),i.join("|");
}
function i(e){
if(!e){
var o=window.onerror;
window.onerror=function(){},f=setTimeout(function(){
window.onerror=o,f=null;
},50);
}
}
function a(e,o,t){
if(!/^mp\.weixin\.qq\.com$/.test(location.hostname)){
var n=[];
t=t.replace(location.href,(location.origin||"")+(location.pathname||"")).replace("#wechat_redirect","").replace("#rd","").split("&");
for(var r=0,i=t.length;i>r;r++){
var a=t[r].split("=");
a[0]&&a[1]&&n.push(a[0]+"="+encodeURIComponent(a[1]));
}
var s=new window.Image;
return void(s.src=(o+n.join("&")).substr(0,1024));
}
var c;
if(window.ActiveXObject)try{
c=new ActiveXObject("Msxml2.XMLHTTP");
}catch(d){
try{
c=new ActiveXObject("Microsoft.XMLHTTP");
}catch(_){
c=!1;
}
}else window.XMLHttpRequest&&(c=new XMLHttpRequest);
c&&(c.open(e,o,!0),c.setRequestHeader("cache-control","no-cache"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),
c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(t));
}
function s(e){
return function(o,t){
if("string"==typeof o)try{
o=new Function(o);
}catch(n){
throw n;
}
var r=[].slice.call(arguments,2),a=o;
return o=function(){
try{
return a.apply(this,r.length&&r||arguments);
}catch(e){
throw e.stack&&console&&console.error&&console.error("[TryCatch]"+e.stack),_&&window.__moon_report&&(window.__moon_report([{
offset:j,
log:"timeout_error;host:"+location.host,
e:e
}]),i(f)),e;
}
},e(o,t);
};
}
function c(e){
return function(o,t,n){
if("undefined"==typeof n)var n=!1;
var r=this,a=t||function(){};
return t=function(){
try{
return a.apply(r,arguments);
}catch(e){
throw e.stack&&console&&console.error&&console.error("[TryCatch]"+e.stack),_&&window.__moon_report&&(window.__moon_report([{
offset:x,
log:"listener_error;type:"+o+";host:"+location.host,
e:e
}]),i(f)),e;
}
},a.moon_lid=E,b[E]=t,E++,e.call(r,o,t,n);
};
}
function d(e){
return function(o,t,n){
if("undefined"==typeof n)var n=!1;
var r=this;
return t=b[t.moon_lid],e.call(r,o,t,n);
};
}
var _,m,l,w,u,p,f,h=/MicroMessenger/i.test(navigator.userAgent),g=/MPAPP/i.test(navigator.userAgent),v=window.define,y=0,x=2,O=4,j=9,D=10;
if(window.__initCatch=function(e){
_=e.idkey,m=e.startKey||0,l=e.limit,w=e.badjsId,u=e.reportOpt||"",p=e.extInfo||{},
p.rate=p.rate||.5;
},window.__moon_report=function(e,o){
var i=!1,s="";
try{
s=top.location.href;
}catch(c){
i=!0;
}
var d=.5;
if(p&&p.rate&&(d=p.rate),o&&"number"==typeof o&&(d=o),!(!/mp\.weixin\.qq\.com/.test(location.href)&&!/payapp\.weixin\.qq\.com/.test(location.href)||Math.random()>d||!h&&!g||top!=window&&!i&&!/mp\.weixin\.qq\.com/.test(s))&&(n(e)&&(e=[e]),
t(e)&&""!=_)){
var u="",f=[],v=[],y=[],x=[];
"number"!=typeof l&&(l=1/0);
for(var j=0;j<e.length;j++){
var D=e[j]||{};
if(!(D.offset>l||"number"!=typeof D.offset||D.offset==O&&p&&p.network_rate&&Math.random()>=p.network_rate)){
var b=1/0==l?m:m+D.offset;
f[j]="[moon]"+_+"_"+b+";"+D.log+";"+r(D.e||{})||"",v[j]=b,y[j]=1;
}
}
for(var E=0;E<v.length;E++)x[E]=_+"_"+v[E]+"_"+y[E],u=u+"&log"+E+"="+f[E];
if(x.length>0){
a("POST",location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?","idkey="+x.join(";")+"&r="+Math.random()+"&lc="+f.length+u);
var d=1;
if(p&&p.badjs_rate&&(d=p.badjs_rate),w&&Math.random()<d){
u=u.replace(/uin\:(.)*\|biz\:(.)*\|mid\:(.)*\|idx\:(.)*\|sn\:(.)*\|/,"");
var S=new Image,I="https://badjs.weixinbridge.com/badjs?id="+w+"&level=4&from="+encodeURIComponent(location.host)+"&msg="+encodeURIComponent(u);
S.src=I.slice(0,1024);
}
}
}
},window.setTimeout=s(window.setTimeout),window.setInterval=s(window.setInterval),
Math.random()<.01&&window.Document&&window.HTMLElement){
var b={},E=0;
Document.prototype.addEventListener=c(Document.prototype.addEventListener),Document.prototype.removeEventListener=d(Document.prototype.removeEventListener),
HTMLElement.prototype.addEventListener=c(HTMLElement.prototype.addEventListener),
HTMLElement.prototype.removeEventListener=d(HTMLElement.prototype.removeEventListener);
}
var S=window.navigator.userAgent;
if((/ip(hone|ad|od)/i.test(S)||/android/i.test(S))&&!/windows phone/i.test(S)&&window.localStorage&&window.localStorage.setItem){
var I=window.localStorage.setItem,L=0;
window.localStorage.setItem=function(e,o){
if(!(L>=10))try{
I.call(window.localStorage,e,o);
}catch(t){
t.stack&&console&&console.error&&console.error("[TryCatch]"+t.stack),window.__moon_report([{
offset:D,
log:"localstorage_error;"+t.toString(),
e:t
}]),L++,L>=3&&window.moon&&window.moon.clear&&moon.clear();
}
};
}
window.seajs&&v&&(window.define=function(){
for(var o,t=[],n=arguments&&arguments[0],a=0,s=arguments.length;s>a;a++){
var c=o=arguments[a];
"function"==typeof o&&(o=function(){
try{
return c.apply(this,arguments);
}catch(o){
throw"string"==typeof n&&console.error("[TryCatch][DefineeErr]id:"+n),o.stack&&console&&console.error&&console.error("[TryCatch]"+o.stack),
_&&window.__moon_report&&(window.__moon_report([{
offset:y,
log:"define_error;id:"+n+";",
e:o
}]),i(f)),e(" [define_error]"+JSON.stringify(r(o))),o;
}
},o.toString=function(e){
return function(){
return e.toString();
};
}(arguments[a])),t.push(o);
}
return v.apply(this,t);
});
}(),function(o){
function t(e,o,t){
return window.__DEBUGINFO?(window.__DEBUGINFO.res_list||(window.__DEBUGINFO.res_list=[]),
window.__DEBUGINFO.res_list[e]?(window.__DEBUGINFO.res_list[e][o]=t,!0):!1):!1;
}
function n(e){
var o=new TextEncoder("utf-8").encode(e),t=crypto.subtle||crypto.webkitSubtle;
return t.digest("SHA-256",o).then(function(e){
return r(e);
});
}
function r(e){
for(var o=[],t=new DataView(e),n=0;n<t.byteLength;n+=4){
var r=t.getUint32(n),i=r.toString(16),a="00000000",s=(a+i).slice(-a.length);
o.push(s);
}
return o.join("");
}
function i(e,o,t){
if("object"==typeof e){
var n=Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,function(e,o){
return o;
});
if(t=t||e,"Array"==n){
for(var r=0,i=e.length;i>r;++r)if(o.call(t,e[r],r,e)===!1)return;
}else{
if("Object"!==n&&a!=e)throw"unsupport type";
if(a==e){
for(var r=e.length-1;r>=0;r--){
var s=a.key(r),c=a.getItem(s);
if(o.call(t,c,s,e)===!1)return;
}
return;
}
for(var r in e)if(e.hasOwnProperty(r)&&o.call(t,e[r],r,e)===!1)return;
}
}
}
var a=o.localStorage,s=document.head||document.getElementsByTagName("head")[0],c=1,d=11,_=12,m=13,l=window.__allowLoadResFromMp?1:2,w=window.__allowLoadResFromMp?1:0,u=l+w,p=window.testenv_reshost||window.__moon_host||"res.wx.qq.com",f=new RegExp("^(http(s)?:)?//"+p);
window.__loadAllResFromMp&&(p="mp.weixin.qq.com",l=0,u=l+w);
var h={
prefix:"__MOON__",
loaded:[],
unload:[],
clearSample:!0,
hit_num:0,
mod_num:0,
version:1003,
cacheData:{
js_mod_num:0,
js_hit_num:0,
js_not_hit_num:0,
js_expired_num:0,
css_mod_num:0,
css_hit_num:0,
css_not_hit_num:0,
css_expired_num:0
},
init:function(){
h.loaded=[],h.unload=[];
var e,t,r;
if(window.no_moon_ls&&(h.clearSample=!0),a){
var s="_moon_ver_key_",c=a.getItem(s);
c!=h.version&&(h.clear(),a.setItem(s,h.version));
}
if((-1!=location.search.indexOf("no_moon1=1")||-1!=location.search.indexOf("no_lshttps=1"))&&h.clear(),
a){
var d=1*a.getItem(h.prefix+"clean_time"),_=+new Date;
if(_-d>=1296e6){
h.clear();
try{
!!a&&a.setItem(h.prefix+"clean_time",+new Date);
}catch(m){}
}
}
i(moon_map,function(i,s){
if(t=h.prefix+s,r=!!i&&i.replace(f,""),e=!!a&&a.getItem(t),version=!!a&&(a.getItem(t+"_ver")||"").replace(f,""),
h.mod_num++,r&&-1!=r.indexOf(".css")?h.cacheData.css_mod_num++:r&&-1!=r.indexOf(".js")&&h.cacheData.js_mod_num++,
h.clearSample||!e||r!=version)h.unload.push(r.replace(f,"")),r&&-1!=r.indexOf(".css")?e?r!=version&&h.cacheData.css_expired_num++:h.cacheData.css_not_hit_num++:r&&-1!=r.indexOf(".js")&&(e?r!=version&&h.cacheData.js_expired_num++:h.cacheData.js_not_hit_num++);else{
if("https:"==location.protocol&&window.moon_hash_map&&window.moon_hash_map[s]&&window.crypto)try{
n(e).then(function(e){
window.moon_hash_map[s]!=e&&console.log(s);
});
}catch(c){}
try{
var d="//# sourceURL="+s+"\n//@ sourceURL="+s;
o.eval.call(o,'define("'+s+'",[],'+e+")"+d),h.hit_num++,r&&-1!=r.indexOf(".css")?h.cacheData.css_hit_num++:r&&-1!=r.indexOf(".js")&&h.cacheData.js_hit_num++;
}catch(c){
h.unload.push(r.replace(f,""));
}
}
}),h.load(h.genUrl());
},
genUrl:function(){
var e=h.unload;
if(!e||e.length<=0)return[];
var o,t,n="",r=[],i={},a=-1!=location.search.indexOf("no_moon2=1"),s="//"+p;
-1!=location.href.indexOf("moon_debug2=1")&&(s="//mp.weixin.qq.com");
for(var c=0,d=e.length;d>c;++c){
/^\/(.*?)\//.test(e[c]);
var _=/^\/(.*?)\//.exec(e[c]);
_.length<2||!_[1]||(t=_[1],n=i[t],n?(o=n+","+e[c],o.length>1e3||a?(r.push(n+"?v="+h.version),
n=location.protocol+s+e[c],i[t]=n):(n=o,i[t]=n)):(n=location.protocol+s+e[c],i[t]=n));
}
for(var m in i)i.hasOwnProperty(m)&&r.push(i[m]);
return r;
},
load:function(e){
if(window.__wxgspeeds&&(window.__wxgspeeds.mod_num=h.mod_num,window.__wxgspeeds.hit_num=h.hit_num),
!e||e.length<=0)return seajs.combo_status=seajs.COMBO_LOADED,seajs.run(),console.debug&&console.debug("[moon] load js complete, all in cache, cost time : 0ms, total count : "+h.mod_num+", hit num: "+h.hit_num),
void window.__moonclientlog.push("[moon] load js complete, all in cache, cost time : 0ms, total count : "+h.mod_num+", hit num: "+h.hit_num);
seajs.combo_status=seajs.COMBO_LOADING;
var o=0,t=+new Date;
window.__wxgspeeds&&(window.__wxgspeeds.combo_times=[],window.__wxgspeeds.combo_times.push(t)),
i(e,function(n){
h.request(n,u,function(){
if(window.__wxgspeeds&&window.__wxgspeeds.combo_times.push(+new Date),o++,o==e.length){
var n=+new Date-t;
window.__wxgspeeds&&(window.__wxgspeeds.mod_downloadtime=n),seajs.combo_status=seajs.COMBO_LOADED,
seajs.run(),console.debug&&console.debug("[moon] load js complete, url num : "+e.length+", total mod count : "+h.mod_num+", hit num: "+h.hit_num+", use time : "+n+"ms"),
window.__moonclientlog.push("[moon] load js complete, url num : "+e.length+", total mod count : "+h.mod_num+", hit num: "+h.hit_num+", use time : "+n+"ms");
}
});
});
},
request:function(o,n,r){
if(o){
n=n||0,o.indexOf("mp.weixin.qq.com")>-1&&((new Image).src=location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?idkey=27613_32_1&r="+Math.random(),
window.__moon_report([{
offset:_,
log:"load_script_from_mp: "+o
}],1));
var i=-1;
window.__DEBUGINFO&&(__DEBUGINFO.res_list||(__DEBUGINFO.res_list=[]),__DEBUGINFO.res_list.push({
type:"js",
status:"pendding",
start:+new Date,
end:0,
url:o
}),i=__DEBUGINFO.res_list.length-1),-1!=location.search.indexOf("no_lshttps=1")&&(o=o.replace("http://","https://"));
var a=document.createElement("script");
a.src=o,a.type="text/javascript",a.async=!0,a.down_time=+new Date,a.onerror=function(s){
t(i,"status","error"),t(i,"end",+new Date);
var _=new Error(s);
if(n>=0)if(w>n){
var l=o.replace("res.wx.qq.com","mp.weixin.qq.com");
h.request(l,n,r);
}else h.request(o,n,r);else window.__moon_report&&window.__moon_report([{
offset:c,
log:"load_script_error: "+o,
e:_
}],1);
if(n==w-1&&window.__moon_report([{
offset:d,
log:"load_script_error: "+o,
e:_
}],1),-1==n){
var u="ua: "+window.navigator.userAgent+", time="+(+new Date-a.down_time)+", load_script_error -1 : "+o;
window.__moon_report([{
offset:m,
log:u
}],1);
}
window.__moonclientlog.push("moon load js error : "+o+", error -> "+_.toString()),
e("moon_request_error url:"+o);
},"undefined"!=typeof moon_crossorigin&&moon_crossorigin&&a.setAttribute("crossorigin",!0),
a.onload=a.onreadystatechange=function(){
t(i,"status","loaded"),t(i,"end",+new Date),!a||a.readyState&&!/loaded|complete/.test(a.readyState)||(t(i,"status","200"),
a.onload=a.onreadystatechange=null,"function"==typeof r&&r());
},n--,s.appendChild(a),e("moon_request url:"+o+" retry:"+n);
}
},
setItem:function(e,o){
!!a&&a.setItem(e,o);
},
clear:function(){
a&&(i(a,function(e,o){
~o.indexOf(h.prefix)&&a.removeItem(o);
}),console.debug&&console.debug("[moon] clear"));
},
idkeyReport:function(e,o,t){
t=t||1;
var n=e+"_"+o+"_"+t;
(new Image).src="/mp/jsmonitor?idkey="+n+"&r="+Math.random();
}
};
seajs&&seajs.use&&"string"==typeof window.__moon_mainjs&&seajs.use(window.__moon_mainjs),
window.moon=h;
}(window),function(){
try{
Math.random()<1;
}catch(e){}
}(),window.moon.init();
};
e(),!!window.__moon_initcallback&&window.__moon_initcallback(),window.__wxgspeeds&&(window.__wxgspeeds.moonendtime=+new Date);
}
}
__moonf__(); }, 25);</script><script nonce="923001970" type="text/javascript">
    var real_show_page_time = +new Date();
    if (!!window.addEventListener){
        window.addEventListener("load", function(){
            window.onload_endtime = +new Date();
        });
    }

    
</script>

    </body>
    <script nonce="923001970" type="text/javascript">document.addEventListener("touchstart", function() {},false);</script>
</html>

