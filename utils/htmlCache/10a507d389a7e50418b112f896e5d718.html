<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Add a little depth to your user interface using shadows">
    <meta name="keywords" content="hacking with swift, apple, developer, news, tutorials, swift, ios, macos, watchos, tvos, api, swift 4, swift 3, swift, tutorial, ios, ios 10, ios 11, ios 12, wwdc, apple, ipad, iphone, free, tutorial, guide, objective c, watchos, tvos, macOS, watchkit">
    <meta name="author" content="Paul Hudson @twostraws">
    <title>Advanced UIView shadow effects using shadowPath – Hacking with Swift</title>

    <link rel="alternate" type="application/rss+xml" title="Swift Developer News RSS feed" href="https://www.hackingwithswift.com/articles/rss" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <style>
        /* NOTE: This was added October 12th 2018; can be removed safely in 60 days */
        div.speaking h4 { 
            margin-top: 40px;
            margin-bottom: 0;
        }

        /* NOTE: This was added January 21st 2019; can be removed safely in 60 days */
        div.hws-sponsor {
            border: 3px solid firebrick;
            border-radius: 20px;
            padding: 20px;
            margin: 30px 0;
        }

        div.hws-sponsor p {
            margin: 0;
        }

        div.hws-sponsor a {
            text-decoration: underline;
        }
    </style>

    <meta property="og:image" content="https://www.hackingwithswift.com/uploads/shadow.jpg" />
    <meta property="og:title" content="Advanced UIView shadow effects using shadowPath" />
    <meta property="og:description" content="Add a little depth to your user interface using shadows" />
    <meta property="og:url" content="https://www.hackingwithswift.com/articles/155/advanced-uiview-shadow-effects-using-shadowpath" />
    <meta property="og:site_name" content="Hacking with Swift" />
    <meta property="og:type" content="article" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@twostraws" />
    <meta name="twitter:title" content="Advanced UIView shadow effects using shadowPath" />
    <meta name="twitter:description" content="Add a little depth to your user interface using shadows" />
    <meta name="twitter:creator" content="@twostraws" />
    <meta name="twitter:image" content="https://www.hackingwithswift.com/uploads/shadow.jpg" />
    <meta name="twitter:domain" content="hackingwithswift.com" />
    <meta name="twitter:dnt" content="on">

    <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css">
    <!-- Retina.js - Load first for faster HQ mobile images. -->
    <script src="/js/plugins/retina/retina.min.js"></script>
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Raleway:500,700&text=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" rel="stylesheet">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/fontawesome-stars.css" />

    <link href="/css/vitality-red.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/hws.css">
    <!-- IE8 support for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <link rel="canonical" href="https://www.hackingwithswift.com/articles/155/advanced-uiview-shadow-effects-using-shadowpath" />
</head>
<!-- Alternate Body Classes: .modern and .vintage -->

<body id="page-top">
    <!-- Navigation -->
    <!-- Note: navbar-default and navbar-inverse are both supported with this theme. -->

        <nav class="navbar navbar-inverse navbar-fixed-top">
    
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="/">
                    <img src="/img/logo.png" class="img-responsive" alt="">
                </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a class="page-scroll" href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/articles">Articles</a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Learn <span class="caret"></span></a>
                      <ul class="dropdown-menu dropdown-menu-left">
                        <li><a href="/career-guide">Swift Career Guide</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/sixty">Swift in Sixty Seconds</a></li>
                        <li><a href="/read">Hacking with Swift</a></li>
                        <li><a href="/example-code">Swift Example Code</a></li>
                        <li><a href="/store">Buy Books and Videos</a></li>
                        <li><a href="/playgrounds">Swift Playgrounds</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/review">Interactive Review</a></li>
                        <li><a href="/interview-questions">Interview Questions</a></li>
                        <li><a href="/test">Test your Swift</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/awards">Swift Community Awards</a></li>
                        <li><a href="/articles">Latest News</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/glossary">Glossary of terms</a></li>
                      </ul>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Store <span class="caret"></span></a>
                      <ul class="dropdown-menu dropdown-menu-left">
                        <li><a href="/store">See the range</a></li>
                        <li><a href="/reviews">Reviews</a></li>
                        <li><a href="/#faq">FAQ</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/frequent-flyer">Frequent Flyer Club</a></li>
                        <li><a href="/update-policy">Update Policy</a></li>
                        <li><a href="/ibooks">Buy on iBooks</a></li>
                      </ul>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
                      <ul class="dropdown-menu dropdown-menu-left">
                        <li><a href="/about">About Hacking with Swift</a></li>
                        <li><a href="/speaking">Conference Talks</a></li>
                      </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

        <skybar id="latestTutorial">
    <div class="container" style="background-color: firebrick; margin: 0; width: 100%;">
         <p style="margin-top: 5px; color: #999999; margin: 6px; color: white; text-align: center;"><a href="/100" style="color: white;" target="_blank"><span class="pure-evil">FREE:</span> <strong>Follow my new 100 Days of Swift challenge!</strong> &gt;&gt;</a></p>

<!--
        <p style="margin-top: 5px; color: #999999; margin: 6px; color: white; text-align: center;"><a href="http://anchor.fm/swiftovercoffee" target="_blank" style="color: white;"><span class="pure-evil">NEW:</span> <strong>Check out my podcast with Sean Allen, Swift over Coffee!</strong> &gt;&gt;</a></p>
-->
    </div>
</skybar>

    

    
    <section class="read">
        <div class="container">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div style="text-align: center; margin-top: 10px; margin-bottom: 10px;">
                        <div class="hws-notices-top">
	
<a href="/store/swift-power-pack?source=powerpack-2"><img src="/assets/notice-powerpack-2.png" style="border: 1px solid black;" class="img-responsive center-block" /></a>


<!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3949792738673622"
     data-ad-slot="9393216522"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script> -->
<!--<a href="https://devmounta.in/ios-immersive?utm_source=HackingWithSwift&utm_medium=HackingWithSwift&utm_campaign=HackingWithSwift">
	<img src="/assets/devmountain.png" style="border: 0;">
</a>-->
</div>
                    </div>
                </div>
                <div class="col-md-1"></div>
            </div>

            <div class="row">
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-12">
                            <h1 style="margin: 10px 0 0 0;">Advanced UIView shadow effects using shadowPath</h1>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <p style="margin: 0;"><a href="/about">Paul Hudson</a> &nbsp;&nbsp; <time itemprop="dateModified" datetime="2018-12-29T10:44:06+00:00">December 29th 2018</time>
<meta itemprop="datePublished" content="2018-12-19T18:46:37+00:00"> &nbsp;&nbsp; <i class="fa fa-twitter" aria-hidden="true" style="color: #4099ff"></i> <a href="https://twitter.com/twostraws" target="_blank">@twostraws</a></p>
                        </div>
                    </div>
                        
                    <div class="row" style="margin-top: 20px;">
                        <div class="col-md-12">
                            <img src="/uploads/shadow.jpg" class="img-responsive" style="width: 100%; max-height: 400px; object-fit: cover; border: 1px solid #dcdcdc;" />
                        </div>
                    </div>
                        
                    <div class="row" style="margin-top: 20px;">
                        <div class="col-md-12">
                            <p>iOS 7 saw many shadows stripped away as Apple shunned skeuomorphism, but in the years since they have crept back in as a useful way to add some depth to your interfaces. Used sparingly, shadows help separate content in your UI, add a touch of depth, and help draw the user’s eye in a certain direction.</p>
<p>In this article we’re going to look at some of the various effects you can create using shadows, all by manipulating the layer properties. Some of these are subtle, some are <em>far</em> from subtle, but I hope they serve to spark your creativity!</p>
<h3 style="font-weight: normal; margin-top: 60px;">Creating a sandbox app</h3>
<p>We need something where we can experiment safely, so create a new iOS app using the Single View App template. When it’s created, open ViewController.swift and add this code:</p>
<pre><code class="language-swift">let width: CGFloat = 200
let height: CGFloat = 200

let vw = UIImageView(frame: CGRect(x: 0, y: 0, width: width, height: height))
vw.image = UIImage(named: "YourPictureHere")
vw.center = view.center
view.addSubview(vw)</code></pre>
<p>In this article I’ll be using icons from the <a rel="nofollow" target="_blank" href="http://www.glyphish.com">Glyphish collection</a>, but you can either substitute your own picture or use a solid color like this:</p>
<pre><code class="language-swift">vw.backgroundColor = .cyan</code></pre>
<p><strong>Note:</strong> I’ve made <code>width</code> and <code>height</code> separate constants because we’ll be using them later on.</p>
<h3 style="font-weight: normal; margin-top: 60px;">Default shadows</h3>
<p>All subclasses of <code>UIView</code>, plus <code>UIView</code> itself, have access to a <code>layer</code> property where we can apply shadow effects directly in code. There are lots of parameters we can tweak:</p>
<ul>
<li><code>shadowColor</code> controls the color of the shadow, and can be used to make shadows (dark colors) or glows (light colors). This defaults to black.</li>
<li><code>shadowOffset</code> controls how far the shadow is moved away from its view. This defaults to 3 points up from the view.</li>
<li><code>shadowOpacity</code> controls how transparent the shadow is. This defaults to 0, meaning “invisible”.</li>
<li><code>shadowPath</code> controls the shape of the shadow. This defaults to <code>nil</code>, which causes UIKit to render the view offscreen to figure out the shadow shape.</li>
<li><code>shadowRadius</code> controls how blurred the shadow is. This defaults to 3 points.</li>
</ul>
<p>Making UIKit calculate the shadow path dynamically is significantly slower than explicitly setting the value, so if you use shadows it’s usually a good idea to set the path. Even better, you can create interesting shapes with the path to make different kinds of shadows, as you’ll see.</p>
<p>First up, let’s set <code>shadowOpacity</code> to 1 so the shadow is fully visible, and you can see what the default settings look like:</p>
<pre><code class="language-swift">vw.layer.shadowOpacity = 1</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-1.png" alt="" /></p>
<p>Like I said, it’s usually a good idea to set an explicit shadow path. This is because dynamic shadow calculation means UIKit performing an off-screen draw of your view to figure out its shape, before rendering the whole thing back to the main view. If you specify the shadow path, UIKit can render the whole thing in one pass.</p>
<p>So, we can specify the shadow path to be the bounds of our view, which tells UIKit we want the shadow to match our view’s size precisely. We could also make its radius bigger while also removing its offset, which means the shadow will appear equally around all edges:</p>
<pre><code class="language-swift">vw.layer.shadowPath = UIBezierPath(rect: vw.bounds).cgPath
vw.layer.shadowRadius = 5
vw.layer.shadowOffset = .zero
vw.layer.shadowOpacity = 1</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-2.png" alt="" /></p>
<h3 style="font-weight: normal; margin-top: 60px;">Contact shadows</h3>
<p>A contact shadow is one that makes it look like our view is near to or even touching a surface, so the shadow exists directly below the view rather than around it. </p>
<p>To make this effect, we’re going to create a custom shadow path. This should be specified as a <code>CGPath</code>, but normally I just create a <code>UIBezierPath</code> then use its <code>cgPath</code> property. In this  instance, we can use the <code>ovalIn:</code> initializer for <code>UIBezierPath</code>, making an oval that’s to the left of our X position and positioned right at the bottom of the view. We can then give it a width that’s wider than our view so that the shadow is bigger than the view, and give it a fairly small height.</p>
<p>As an example, this creates a contact shadow that’s 40 points wider than the view, and 20 points high:</p>
<pre><code class="language-swift">let shadowSize: CGFloat = 20
let contactRect = CGRect(x: -shadowSize, y: height - (shadowSize * 0.4), width: width + shadowSize * 2, height: shadowSize)
vw.layer.shadowPath = UIBezierPath(ovalIn: contactRect).cgPath
vw.layer.shadowRadius = 5
vw.layer.shadowOpacity = 0.4</code></pre>
<p>There are two things there I want to highlight briefly before moving on:</p>
<ol>
<li>The <code>shadowSize * 0.4</code> in there really ought to be <code>shadowSize * 0.5</code>, because it positions the shadow’s center at the bottom of the view. However in practice I’ve found 0.4 just looks better – try it yourself.</li>
<li>I reduced the <code>shadowOpacity</code> value down to 0.5 because looks less harsh.</li>
</ol>
<p>Here’s how that looks:</p>
<p><img class="hws" src="/uploads/articles/shadows-3.png" alt="" /></p>
<p>If you wanted, you could introduce a second constant that moves the shadow further away from the view, making it look like the view is floating:</p>
<pre><code class="language-swift">let shadowSize: CGFloat = 20
let shadowDistance: CGFloat = 20
let contactRect = CGRect(x: -shadowSize, y: height - (shadowSize * 0.4) + shadowDistance, width: width + shadowSize * 2, height: shadowSize)
vw.layer.shadowPath = UIBezierPath(ovalIn: contactRect).cgPath
vw.layer.shadowRadius = 5
vw.layer.shadowOpacity = 0.4</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-4.png" alt="" /></p>
<p>When you add that sort of distance, you might find it works better to make the contact shadow <em>smaller</em> than the view, which re-enforces the height effect nicely:</p>
<pre><code class="language-swift">let shadowSize: CGFloat = 10
let shadowDistance: CGFloat = 40
let contactRect = CGRect(x: shadowSize, y: height - (shadowSize * 0.4) + shadowDistance, width: width - shadowSize * 2, height: shadowSize)
vw.layer.shadowPath = UIBezierPath(ovalIn: contactRect).cgPath
vw.layer.shadowRadius = 5
vw.layer.shadowOpacity = 0.4</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-5.png" alt="" /></p>
<h3 style="font-weight: normal; margin-top: 60px;">Depth shadows</h3>
<p>You can add a 3D effect to your view by casting a shadow in front of it. This is done by creating another custom <code>UIBezierPath</code> shadow path where we position the top of the shadow at the bottom of our view, and the bottom of the shadow some distance further down. We then bring the bottom edges of the shadow outwards so that it’s wider on the bottom than it is at the top, giving a perspective effect.</p>
<p>To avoid the shadow looking like it’s wider than the view at its start point, it’s important we move it in by half the shadow radius and make it draw along to the width of our view also minus half the shadow radius. I’ve also brought the start of the shadow up by half the shadow radius so that you don’t get a blurred space underneath the view.</p>
<p>Here’s the code:</p>
<pre><code class="language-swift">let shadowRadius: CGFloat = 5

// how wide and high the shadow should be, where 1.0 is identical to the view
let shadowWidth: CGFloat = 1.25
let shadowHeight: CGFloat = 0.5

let shadowPath = UIBezierPath()
shadowPath.move(to: CGPoint(x: shadowRadius / 2, y: height - shadowRadius / 2))
shadowPath.addLine(to: CGPoint(x: width - shadowRadius / 2, y: height - shadowRadius / 2))
shadowPath.addLine(to: CGPoint(x: width * shadowWidth, y: height + (height * shadowHeight)))
shadowPath.addLine(to: CGPoint(x: width * -(shadowWidth - 1), y: height + (height * shadowHeight)))
vw.layer.shadowPath = shadowPath.cgPath
vw.layer.shadowRadius = shadowRadius
vw.layer.shadowOffset = .zero
vw.layer.shadowOpacity = 0.2</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-6.png" alt="" /></p>
<p>For a more interesting perspective, you could push the shadow off to one side. For example:</p>
<pre><code class="language-swift">let shadowWidth: CGFloat = 1.2
let shadowHeight: CGFloat = 0.5
let shadowOffsetX: CGFloat = -50
let shadowRadius: CGFloat = 5

let shadowPath = UIBezierPath()
shadowPath.move(to: CGPoint(x: shadowRadius / 2, y: height - shadowRadius / 2))
shadowPath.addLine(to: CGPoint(x: width, y: height - shadowRadius / 2))
shadowPath.addLine(to: CGPoint(x: width * shadowWidth + shadowOffsetX, y: height + (height * shadowHeight)))
shadowPath.addLine(to: CGPoint(x: width * -(shadowWidth - 1) + shadowOffsetX, y: height + (height * shadowHeight)))
vw.layer.shadowPath = shadowPath.cgPath

vw.layer.shadowRadius = shadowRadius
vw.layer.shadowOffset = .zero
vw.layer.shadowOpacity = 0.2</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-7.png" alt="" /></p>
<h3 style="font-weight: normal; margin-top: 60px;">Flat, long shadows</h3>
<p>This shadow effect is particularly prevalent in modern design, where shadows are more of a design feature rather than providing any sort of function. Here, the shadow is sharp-edged and moves continuously off into the infinite distance at 45-degree angle.</p>
<p>We can achieve this effect using a similar technique to our depth shadows, except rather than making the shadow wider at the bottom edge we instead push it off to the side and away into the far distance. How far is down to you, but something large like 2000+ points should ensure you don’t have any problems for the foreseeable future!</p>
<p>To make the effect a little more dramatic, I’m going to add an orange color to my view then use a translucent shadow so that the shadow color is blended between black and orange.</p>
<p>Here’s the code:</p>
<pre><code class="language-swift">vw.layer.shadowRadius = 0
vw.layer.shadowOffset = .zero
vw.layer.shadowOpacity = 0.2

// how far the bottom of the shadow should be offset
let shadowOffsetX: CGFloat = 2000
let shadowPath = UIBezierPath()
shadowPath.move(to: CGPoint(x: 0, y: height))
shadowPath.addLine(to: CGPoint(x: width, y: height))

// make the bottom of the shadow finish a long way away, and pushed by our X offset
shadowPath.addLine(to: CGPoint(x: width + shadowOffsetX, y: 2000))
shadowPath.addLine(to: CGPoint(x: shadowOffsetX, y: 2000))
vw.layer.shadowPath = shadowPath.cgPath

view.backgroundColor = UIColor(red: 230 / 255, green: 126 / 255, blue: 34 / 255, alpha: 1.0)</code></pre>
<p>You can manipulate <code>shadowOffsetX</code> to get different angles – using 1000 will make the shadow move to the right more gently, whereas using negative values will make it move to the left.</p>
<p><img class="hws" src="/uploads/articles/shadows-8.png" alt="" /></p>
<p>For a more dramatic shadow, you can go from the bottom-left and top-right edges, like this:</p>
<pre><code class="language-swift">let shadowOffsetX: CGFloat = 2000
let shadowPath = UIBezierPath()
shadowPath.move(to: CGPoint(x: 0, y: height))
shadowPath.addLine(to: CGPoint(x: width, y: 0))
shadowPath.addLine(to: CGPoint(x: width + shadowOffsetX, y: 2000))
shadowPath.addLine(to: CGPoint(x: shadowOffsetX, y: 2000))
vw.layer.shadowPath = shadowPath.cgPath</code></pre>
<p>Here’s how that looks: </p>
<p><img class="hws" src="/uploads/articles/shadows-9.png" alt="" /></p>
<h3 style="font-weight: normal; margin-top: 60px;">Curved shadows</h3>
<p>You can use any sort of <code>UIBezierPath</code> for your shadow path, which means if you add some curves it’s easy to make a page curl effect similar to the kind of thing you’ll find in Apple’s Keynote.</p>
<p>To create this effect, we draw three corners of a box, and add the fourth corner using a Bezier curve that bends upwards back towards our view. As with previous examples we need to nudge in the X positions of our shadow to account for the shadow radius, but this time we’ll subtract the whole shadow radius rather than half so that the whole shadow sits inside the view’s width.</p>
<p>Here’s the code:</p>
<pre><code class="language-swift">let shadowRadius: CGFloat = 5
vw.layer.shadowRadius = shadowRadius
vw.layer.shadowOffset = CGSize(width: 0, height: 10)
vw.layer.shadowOpacity = 0.5

// how strong to make the curling effect
let curveAmount: CGFloat = 20
let shadowPath = UIBezierPath()

// the top left and right edges match our view, indented by the shadow radius
shadowPath.move(to: CGPoint(x: shadowRadius, y: 0))
shadowPath.addLine(to: CGPoint(x: width - shadowRadius, y: 0))

// the bottom-right edge of our shadow should overshoot by the size of our curve
shadowPath.addLine(to: CGPoint(x: width - shadowRadius, y: height + curveAmount))

// the bottom-left edge also overshoots by the size of our curve, but is added with a curve back up towards the view
shadowPath.addCurve(to: CGPoint(x: shadowRadius, y: height + curveAmount), controlPoint1: CGPoint(x: width, y: height - shadowRadius), controlPoint2: CGPoint(x: 0, y: height - shadowRadius))
vw.layer.shadowPath = shadowPath.cgPath</code></pre>
<p>Experimentation pays off with this particular effect, so try out various values and see what works well for you. I chose a particularly strong effect for the picture below so that it really stands out, but you’ll likely find something more subtle works better.</p>
<p><img class="hws" src="/uploads/articles/shadows-10.png" alt="" /></p>
<h3 style="font-weight: normal; margin-top: 60px;">Double strokes</h3>
<p>As well as shadows, <code>CALayer</code> also provides us with the ability to draw <em>borders</em> around our views by setting the <code>borderWidth</code> and <code>borderColor</code> properties. If we combine that with a shadow that has a zero radius and offset, we can make a double border effect: the regular border first, then a hard shadow outside to provide a second border.</p>
<p>To make this work, all we need to do is create a shadow path that starts above and to the left of our view, and finishes below and to the right. You can make the shadow a multiple of the border if you want it to be relative, or you can used fixed sizes.</p>
<p>For example, this code creates a picture frame effect, where the white border acts as negative space and the black edge is a frame:</p>
<pre><code class="language-swift">let shadowSize: CGFloat = 20
let shadowPath = UIBezierPath(rect: CGRect(x: -2, y: -2, width: width + 4, height: height + 4))
vw.layer.shadowPath = shadowPath.cgPath

vw.layer.shadowOffset = .zero
vw.layer.shadowRadius = 0
vw.layer.shadowOpacity = 1

vw.layer.borderColor = UIColor.white.cgColor
vw.layer.borderWidth = shadowSize</code></pre>
<p><img class="hws" src="/uploads/articles/shadows-11.png" alt="" /></p>
<h3 style="font-weight: normal; margin-top: 60px;">Where next?</h3>
<p>We’ve experimented with shadow colors, paths, and more, but there’s so much more you can do if you experiment – anything you can create as a bezier path can be used for the shadow, so the options really are limitless.</p>
<p>What are your favorite shadow effects? Link me to your code and I’ll check it out – I’m <a rel="nofollow" target="_blank" href="https://twitter.com/twostraws">@twostraws</a> on Twitter.</p><!-- <div class="hws-sponsor"><p><strong class="label label-danger">Sponsored</strong> You’re already busy updating your app for Swift 4.2 and iOS 12, so why not let Instabug help you find and fix bugs? <strong>Add just two lines of code</strong> to your project and receive comprehensive reports with all the feedback you need to ship a world-class app – <a href="https://try.instabug.com/ios/?utm_source=hackingwithswift&utm_medium=native_ads&utm_campaign=hackingwithswiftv3">click here to learn more</a>!</div> --><p align="center" style="margin: 30px;"><a href="https://twitter.com/share" data-dnt="true" class="twitter-share-button" data-url="https://www.hackingwithswift.com/articles/155/advanced-uiview-shadow-effects-using-shadowpath" data-text="Advanced UIView shadow effects using shadowPath – Add a little depth to your user interface using shadows" data-via="twostraws" data-size="large" data-hashtags="swiftlang" data-count="none">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></p><p>&nbsp;</p>
                        </div>
                    </div>
                </div>

                                <style>
                    div.books-sidebar {
                        text-align: center;
                        padding-top: 5px
                    }

                    div.books-sidebar img {
                        border: 1px solid #cccccc;
                        margin-bottom: 5px;
                    }

                    @media (max-width: 991px) {
                        div.books-sidebar {
                            display: none;
                        }
                    }
                </style>

                <div class="col-md-3" style="padding: 0; padding-top: 20px;">
                    <div class="books-sidebar" style="text-align: center;">
                        <strong>MASTER SWIFT NOW</strong>
                    </div>
                    <div class="books-sidebar">
                        <a href="/store/testing-swift"><img src="/img/covers-flat/testing.png" alt="Buy Testing Swift" width="95" /></a>
                        <a href="/store/practical-ios12"><img src="/img/covers-flat/ios12.png" alt="Buy Practical iOS 12" width="95" /></a>
                        <a href="/store/pro-swift"><img src="/img/covers-flat/pro-swift.png" alt="Buy Pro Swift" width="95" /></a>
                        <a href="/store/swift-design-patterns"><img src="/img/covers-flat/patterns.png" alt="Buy Swift Design Patterns" width="95" /></a>
                        <a href="/store/swift-coding-challenges"><img src="/img/covers-flat/swiftcc.png" alt="Buy Swift Coding Challenges" width="95" /></a>
                        <a href="/store/server-side-swift"><img src="/img/covers-flat/vapor.png" alt="Buy Server-Side Swift (Vapor Edition)" width="95" /></a>
                        <a href="/store/server-side-swift"><img src="/img/covers-flat/kitura.png" alt="Buy Server-Side Swift (Kitura Edition)" width="95" /></a>
                        <a href="/store/hacking-with-macos"><img src="/img/covers-flat/macos.png" alt="Buy Hacking with macOS" width="95" /></a>
                        <a href="/store/advanced-ios-1"><img src="/img/covers-flat/advanced-ios-1.png" alt="Buy Advanced iOS Volume One" width="95" /></a>
                        <a href="/store/advanced-ios-2"><img src="/img/covers-flat/advanced-ios-2.png" alt="Buy Advanced iOS Volume Two" width="95" /></a>                        
                        <a href="/store/hacking-with-watchos"><img src="/img/covers-flat/watchos.png" alt="Buy Hacking with watchOS" width="95" /></a>
                        <a href="/store/hacking-with-tvos"><img src="/img/covers-flat/tvos.png" alt="Buy Hacking with tvOS" width="95" /></a>
                        <a href="/store/hacking-with-swift"><img src="/img/covers-flat/hws.png" alt="Buy Hacking with Swift" width="95" /></a>
                        <a href="/store/dive-into-spritekit"><img src="/img/covers-flat/spritekit.png" alt="Buy Dive Into SpriteKit" width="95" /></a>
                        <a href="/sixty"><img src="/img/covers-flat/sixty.png" alt="Buy Swift in Sixty Seconds" width="95" /></a>
                        <a href="/store/objective-c-for-swift-developers"><img src="/img/covers-flat/objc.png" alt="Buy Objective-C for Swift Developers" width="95" /></a>
                        <a href="/store/beyond-code"><img src="/img/covers-flat/beyond-code.png" alt="Buy Beyond Code" width="95" /></a>
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 20px;">
            <div class="row">
    <div class="col-sm-1" style="text-align: left;"></div>
    <div class="col-sm-2">
        <p style="text-align: center;"><img src="/img/paul.png" class="img-responsive" style="border-radius: 64px; border: 1px solid black; margin: auto;" /></p>
        <p style="text-align: center;"><a href="https://twitter.com/twostraws">@twostraws</a></p>
    </div>
    <div class="col-sm-8" style="text-align: left;"><h3 style="margin: 0">About the author</h3><p>Paul Hudson is the creator of Hacking with Swift, the <a href="/store">most comprehensive series of Swift books</a> in the world. He's also the editor of <a href="/articles">Swift Developer News</a>, the maintainer of the <a href="/example-code">Swift Knowledge Base</a>, and Mario Kart world champion. OK, so that last part isn't true. If you're curious you can <a href="/about">learn more here</a>.</p></div>
    <div class="col-sm-1" style="text-align: left;"></div>
</div>            </div>

            <div class="row" style="margin-top: 40px">            
                <div class="col-xs-6 hws-news-others">
                    <p class="lead" style="margin-bottom: 10px;"><a href="/articles">More articles</a></p>
                </div>

                <div class="col-xs-6 hws-news-others">
                    <p class="lead" style="text-align: right; margin-bottom: 10px;"><img src="/img/feed.png" style="height: 22px; vertical-align: middle; margin-bottom: 4px;" /> <a href="/articles/rss">
                    RSS feed</a></p>
                </div>
            </div>

            <div class="row">
                                    <div class="col-sm-3" style="margin-bottom: 30px;">
                        <a href="/articles/183/apple-announces-swift-enterprise-edition">
                            <img src="/uploads/enterprise.jpg" class="img-responsive" style="border: 1px solid #dcdcdc;" />
                            <div>
                                <h4>Apple announces Swift Enterprise Edition</h4>
                            </div>
                        </a>
                    </div>
                                    <div class="col-sm-3" style="margin-bottom: 30px;">
                        <a href="/articles/182/whats-new-in-swift-5-1">
                            <img src="/uploads/swift-evolution-1.jpg" class="img-responsive" style="border: 1px solid #dcdcdc;" />
                            <div>
                                <h4>What’s new in Swift 5.1</h4>
                            </div>
                        </a>
                    </div>
                                    <div class="col-sm-3" style="margin-bottom: 30px;">
                        <a href="/articles/181/why-using-isempty-is-faster-than-checking-count-0">
                            <img src="/uploads/typography.jpg" class="img-responsive" style="border: 1px solid #dcdcdc;" />
                            <div>
                                <h4>Why using isEmpty is faster than checking count == 0</h4>
                            </div>
                        </a>
                    </div>
                                    <div class="col-sm-3" style="margin-bottom: 30px;">
                        <a href="/articles/180/interview-antoine-van-der-lee">
                            <img src="/uploads/zz-antoine-van-der-lee.jpg" class="img-responsive" style="border: 1px solid #dcdcdc;" />
                            <div>
                                <h4>Interview: Antoine van der Lee</h4>
                            </div>
                        </a>
                    </div>
                            </div>

            <div class="row" style="margin-bottom: 80px;">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div style="text-align: center; margin-top: 10px; margin-bottom: 10px;">
                        <div class="hws-notices-bottom">
	<!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3949792738673622"
     data-ad-slot="1869949723"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script> -->
<!--<a href="https://devmounta.in/ios-immersive?utm_source=HackingWithSwift&utm_medium=HackingWithSwift&utm_campaign=HackingWithSwift">
	<img src="/assets/devmountain.png" style="border: 0;">
</a>-->
</div>
                    </div>
                </div>
                <div class="col-md-1"></div>
            </div>
        </div>
    </section>


            <section class="page-rating-container bg-gray">
        <div class="container text-center">
            <div class="row">
                <div id="page-rating-start">
                  <p>Was this page useful? Let me know!</p>
                	<select id="page-rating">
                      <option value=""></option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                    </select>
                </div>

                                <p><small>Average rating: 5.0/5</small></p>
                
                <div id="page-rating-end" style="display: none">
                    <p>Thank you!</p>
                </div>
            </div>
        </div>
    </section>

    <script type="application/ld+json">{
      "@context": "http://schema.org",
      "@type": "Article",
      "author": "Paul Hudson",
      "datePublished": "2018-12-19",
      "dateModified": "2018-12-29",
      "headline": "Advanced UIView shadow effects using shadowPath",
      "image": {
        "@type": "imageObject",
        "url": "https://www.hackingwithswift.com/uploads/shadow.jpg"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "5.0",
            "worstRating": "1.0",
            "bestRating": "5.0",
            "reviewCount": "6"
        },
      "publisher": {
        "@type": "Organization",
        "name": "Hacking with Swift",
        "logo": {
          "@type": "imageObject",
            "url": "https://www.hackingwithswift.com/files/logo-large.png"
          }
        }
      }
    </script>
    
    
        <a href="/store" class="btn btn-block btn-full-width" style="white-space: normal;">Click here to visit the Hacking with Swift store &gt;&gt;</a>
    
    <footer class="footer" style="background-image: url('/img/bg-footer.jpg')">
        <div class="container text-center">
            <div class="row">
                <div class="col-md-6 contact-details">
                    <a href="https://twitter.com/twostraws">
                        <h4><i class="fa fa-twitter fa-4x"></i></h4>
                        <p>@twostraws</p>
                    </a>
                </div>
                <div class="col-md-6 contact-details">
                    <a href="mailto:paul@hackingwithswift.com">
                        <h4><i class="fa fa-envelope-o fa-4x"></i></h4>
                        <p>paul@hackingwithswift.com
                        </p>
                    </a>
                </div>
            </div>
            <div class="row copyright">
                <div class="col-lg-12">
                    <p class="small">Swift, the Swift logo, Xcode, Instruments, Cocoa Touch, Touch ID, AirDrop, iBeacon, iPhone, iPad, Safari, App Store, watchOS, tvOS, Mac and macOS are trademarks of Apple Inc., registered in the U.S. and other countries. Pulp Fiction is copyright &copy; 1994 Miramax Films. Hacking with Swift &copy;2019 Paul Hudson.</p>

                    <p class="small"><a href="/privacy">Privacy Policy</a></p>
                </div>
            </div>
        </div>
    </footer>
    <!-- Core Scripts -->
    <script src="/js/jquery.js"></script>
    <script src="/js/jquery-ui-custom.min.js"></script>
    <script src="/js/jquery.ui.touch-punch.min.js"></script>
    <script src="/js/bootstrap/bootstrap.min.js"></script>
    <!-- Plugin Scripts -->
    <script src="/js/plugins/jquery.easing.min.js"></script>
    <script src="/js/plugins/classie.js"></script>

    
    <script src="/js/plugins/jquery.mixitup.js"></script>
    <script src="/js/prism.js"></script>
    <script src="/js/vitality.js"></script>

    <script src="/js/jquery.barrating.min.js"></script>
    <script type="text/javascript">
       $(function() {
            $('#page-rating').barrating('show', {
              theme: 'fontawesome-stars',
              onSelect: function(value, text, event) {
                if (typeof(event) !== 'undefined') {
                  // rating was selected by a user
                  var rating = $(event.target).data("rating-value");

                    $.ajax({
                      type: "POST",
                      url: "/rating",
                      data: { "url": window.location.pathname, "rating": rating },
                    });

                  $("#page-rating-start").hide();
                  $("#page-rating-end").show();
                } else {
                  // rating was selected programmatically
                  // by calling `set` method
                }
              }
            });
       });
    </script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-58275818-1', 'auto');
        ga('send', 'pageview');
    </script>

<!--     { { include('house-ads.html') } }

    <script src="/js/ads.js"></script>
    <script>
    if(window.areAdsDisplayed === undefined) {
        var houseAd = createHouseAd();
        $('.hws-notices-top').html(houseAd);
        $('.hws-notices-bottom').html(houseAd);
    }
    </script> -->

    </body>

</html>
